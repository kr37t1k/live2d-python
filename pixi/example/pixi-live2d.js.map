{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap bcb24511b442cea33eb4","webpack:///./src/index.js","webpack:///./src/lib/live2d.js","webpack:///./src/lib/LAppModel.js","webpack:///./src/lib/Live2DFramework.js","webpack:///./src/lib/netUtils.js","webpack:///./src/lib/MatrixStack.js","webpack:///./src/lib/glMatrix-mat4.js","webpack:///./src/lib/glMatrix-common.js","webpack:///./src/lib/ModelSettingJson.js","webpack:///external \"PIXI\""],"names":["PIXI","require","Live2DSprite","modelDefine","options","interactive","platform","window","navigator","toLowerCase","fullOptions","Object","assign","priorityForce","priorityDefault","debugLog","debugMouseLog","eyeBlink","lipSyncWithSound","randomMotion","defaultMotionGroup","audioPlayer","Live2D","init","model","LAppModel","gl","canvas","dragMgr","viewMatrix","projMatrix","deviceToScreen","texture","modelReady","onModelReady","width","height","RenderTexture","create","canvasWidth","canvasHeight","L2DTargetPoint","ratio","left","right","bottom","top","L2DViewMatrix","setMaxScreenRect","setScreenRect","L2DMatrix44","multScale","multTranslate","setGL","x","y","anchor","scale","clearColor","load","MatrixStack","reset","loadIdentity","update","setDrag","getX","getY","multMatrix","getArray","push","draw","pop","renderer","view","activeTexture","TEXTURE0","length","func","shift","visible","useVAO","createVao","bindVao","_activeVao","flush","arrayBuffer","getParameter","ARRAY_BUFFER_BINDING","elementArrayBuffer","ELEMENT_ARRAY_BUFFER_BINDING","currentProgram","CURRENT_PROGRAM","ACTIVE_TEXTURE","texture0","TEXTURE_BINDING_2D","TEXTURE1","texture1","frontFace","FRONT_FACE","colorWhiteMask","COLOR_WRITEMASK","vertexAttr0Enabled","vertexAttr1Enabled","vertexAttr2Enabled","vertexAttr3Enabled","getVertexAttrib","VERTEX_ATTRIB_ARRAY_ENABLED","scissorTestEnabled","isEnabled","SCISSOR_TEST","stencilTestEnabled","STENCIL_TEST","depthTestEnabled","DEPTH_TEST","cullFaceEnabled","CULL_FACE","blendEnabled","BLEND","_activeTextureLocation","_activeTexture","_activeRenderTarget","vao","bindRenderTexture","clear","COLOR_BUFFER_BIT","CW","bindTexture","TEXTURE_2D","useProgram","bindRenderTarget","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","colorMask","enableVertexAttribArray","disableVertexAttribArray","enable","disable","unbind","destroy","release","args","point","hitTest","cx","cy","adjustScale","shiftX","shiftY","adjustTranslate","value","setLipSync","setLipSyncValue","setRandomExpression","name","priority","startRandomMotion","startRandomMotionOnce","stopRandomMotion","no","startMotion","filename","host","playSound","id","invertTransformX","transformX","invertTransformY","transformY","setPoint","key","getLive2DModel","getParamFloat","weight","setParamFloat","addToParamFloat","multParamFloat","Sprite","console","error","UtSystem","UtDebug","LDTransform","LDGL","Live2DModelWebGL","Live2DModelJS","Live2DMotion","MotionQueueManager","PhysicsHair","AMotion","PartsDataID","DrawDataID","BaseDataID","ParamID","L2DBaseModel","prototype","constructor","call","randomMotionGroup","randomMotionPriority","modelHomeDir","modelSetting","tmpMatrix","audioElement","audioContext","audioAnalyser","callback","setUpdating","setInitialized","ModelSettingJson","thisRef","path","getModelFile","loadModelData","i","getTextureNum","texPaths","getTextureFile","loadTexture","isTexLoaded","getExpressionNum","expressions","j","expName","getExpressionName","expFilePath","getExpressionFile","loadExpression","expressionManager","L2DEyeBlink","getPhysicsFile","loadPhysics","physics","getPoseFile","loadPose","pose","updateParam","live2DModel","getLayout","layout","modelMatrix","setWidth","setHeight","setX","setY","centerX","centerY","getInitParamNum","getInitParamID","getInitParamValue","getInitPartsVisibleNum","setPartsOpacity","getInitPartsVisibleID","getInitPartsVisibleValue","saveParam","preloadMotionGroup","mainMotionManager","stopAllMotions","getMotionNum","file","getMotionFile","loadMotion","motion","setFadeIn","getMotionFadeIn","setFadeOut","getMotionFadeOut","timeMSec","getUserTimeMSec","startTimeMSec","timeSec","t","Math","PI","isFinished","loadParam","dragX","dragY","lipSync","lipSyncValue","tmp","parseInt","random","setExpression","max","motionName","warn","setReservePriority","reserveMotion","log","motions","mtn","setFadeInFadeOut","getMotionSound","startMotionPrio","soundName","audio","document","createElement","src","AudioContext","webkitAudioContext","context","audioElementSource","createMediaElementSource","source","analyser","createAnalyser","fftSize","bufferLength","frequencyBinCount","cache","lastTime","Date","now","intervalId","setInterval","dataArray","Uint8Array","getByteFrequencyData","lipValue","reduce","previous","current","addEventListener","clearInterval","connect","destination","play","getMatrix","setMatrix","testX","testY","len","getHitAreaNum","hit","drawID","getHitAreaID","hitTestSimple","getHitAreaName","L2DExpressionMotion","L2DExpressionParam","L2DModelMatrix","L2DMotionManager","L2DPhysics","L2DPose","L2DPartsParam","debugMode","initialized","updating","alpha","accAlpha","accelX","accelY","accelZ","texCounter","getModelMatrix","setAlpha","a","getAlpha","isInitialized","v","isUpdating","setAccel","z","getMainMotionManager","getExpressionManager","buf","loadModel","_err","getError","getCanvasWidth","getCanvasHeight","setCenterPosition","_loadTexture","loadedImage","Image","onload","createTexture","isPremultipliedAlpha","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_FLIP_Y_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_NEAREST","generateMipmap","setTexture","onerror","json","loadJson","e","drawIndex","getDrawDataIndex","points","getTransformedPoints","tx","ty","paramList","Array","EXPRESSION_DEFAULT","TYPE_SET","TYPE_ADD","TYPE_MULT","ret","fade_in","fade_out","params","paramNum","param","paramID","toString","parseFloat","val","calcTypeInt","calc","defaultValue","def","item","type","updateParamExe","motionQueueEnt","nextBlinkTime","stateStartTime","blinkIntervalMsec","eyeState","EYE_STATE","STATE_FIRST","closingMotionMsec","closedMotionMsec","openingMotionMsec","closeIfZero","eyeID_L","eyeID_R","calcNextBlink","time","r","setEyeMotion","eyeParamValue","STATE_CLOSING","STATE_CLOSED","STATE_OPENING","STATE_INTERVAL","tr","Float32Array","identity","mul","b","dst","c","n","k","getCopyMatrix","getScaleX","getScaleY","tr1","translate","translateX","translateY","scaleX","scaleY","w","h","setPosition","currentPriority","reservePriority","super","getCurrentPriority","getReservePriority","updated","physicsList","physics_hair","setup","resist","regist","mass","srcList","srcNum","Src","SRC_TO_X","typeStr","ptype","SRC_TO_Y","SRC_TO_G_ANGLE","addSrcParam","targetList","targets","targetNum","target","Target","TARGET_FROM_ANGLE","TARGET_FROM_ANGLE_V","addTargetParam","lastModel","partsGroups","poseListInfo","parts_visible","poseNum","i_pose","poseInfo","idListInfo","group","idNum","partsGroup","i_group","partsInfo","parts","link","linkListInfo","linkNum","i_link","linkParts","initParam","curTime","deltaTimeSec","normalizePartsOpacityGroup","copyOpacityOtherParts","initIndex","partsIndex","paramIndex","visibleParts","visibleOpacity","CLEAR_TIME_SEC","phi","maxBackOpacity","getPartsOpacity","opacity","a1","backOp","partsParam","getParamIndex","getPartsDataIndex","getID","EPSILON","faceTargetX","faceTargetY","faceX","faceY","faceVX","faceVY","lastTimeSec","FRAME_RATE","TIME_TO_MAX_SPEED","FACE_PARAM_MAX_V","MAX_V","curTimeSec","deltaTimeWeight","FRAME_TO_MAX_SPEED","MAX_A","dx","dy","abs","d","sqrt","vx","vy","ax","ay","max_v","cur_v","screenLeft","screenRight","screenTop","screenBottom","maxLeft","maxRight","maxTop","maxBottom","Number","MAX_VALUE","min","getMaxScale","getMinScale","setMaxScale","setMinScale","isMaxScale","isMinScale","tr2","tr3","getScreenLeft","getScreenRight","getScreenBottom","getScreenTop","getMaxLeft","getMaxRight","getMaxBottom","getMaxTop","loadBytes","request","XMLHttpRequest","open","responseType","status","response","send","mat4","matrixStack","depth","currentMatrix","myError","matNew","multiply","glMatrix","scalar","SIMD","out","ARRAY_TYPE","clone","copy","fromValues","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","set","transpose","a01","a02","a03","a12","a13","a23","a0","a2","a3","tmp01","tmp23","out0","out1","out2","out3","Float32x4","shuffle","store","USE_SIMD","invert","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","row0","row1","row2","row3","tmp1","minor0","minor1","minor2","minor3","swizzle","sub","add","reciprocalApproximation","adjoint","determinant","b0","b1","b2","b3","vec","t0","rotate","rad","axis","s","b12","b20","b21","b22","sin","cos","rotateX","splat","a_1","a_2","rotateY","a_0","rotateZ","fromTranslation","fromScaling","fromRotation","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","q","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","getTranslation","mat","getScaling","getRotation","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","fromQuat","yx","zx","zy","frustum","near","far","rl","tb","nf","perspective","fovy","aspect","f","tan","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","str","frob","pow","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b13","b14","b15","module","exports","RANDOM","ENABLE_SIMD","self","global","SIMD_AVAILABLE","setMatrixArrayType","degree","toRadian","NAME","ID","MODEL","TEXTURES","HIT_AREAS","PHYSICS","POSE","EXPRESSIONS","MOTION_GROUPS","SOUND","FADE_IN","FADE_OUT","LAYOUT","INIT_PARAM","INIT_PARTS_VISIBLE","VALUE","FILE","NaN"],"mappings":"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","file":"pixi-live2d.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"PIXI\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"PIXI\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"PIXI\")) : factory(root[\"PIXI\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_9__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bcb24511b442cea33eb4","import {\n  UtSystem,\n  UtDebug,\n  LDTransform,\n  LDGL,\n  Live2D,\n  Live2DModelWebGL,\n  Live2DModelJS,\n  Live2DMotion,\n  MotionQueueManager,\n  PhysicsHair,\n  AMotion,\n  PartsDataID,\n  DrawDataID,\n  BaseDataID,\n  ParamID\n} from '../src/lib/live2d';\nconst PIXI = require('pixi.js');\nimport LAppModel from './lib/LAppModel';\nimport { Live2DFramework, L2DTargetPoint, L2DViewMatrix, L2DMatrix44 } from './lib/Live2DFramework';\nimport MatrixStack from './lib/MatrixStack';\n\n/**\n * @class\n * @memberof PIXI\n * @param modelDefine {object} Content of {name}.model.js file\n * @param [options] {object} The optional parameters\n * @param [options.eyeBlink=true] {boolean}\n * @param [options.lipSyncWithSound=true] {boolean}\n * @param [options.debugLog=false] {boolean}\n * @param [options.debugMouseLog=false] {boolean}\n * @param [options.randomMotion=true] {boolean}\n * @param [options.defaultMotionGroup=\"idle\"] {string}\n * @param [options.priorityDefault=1] {number}\n * @param [options.priorityForce=3] {number}\n * @param [options.audioPlayer=3] {function} Custom audio player, pass (filename, rootPath) as parameters\n *\n */\nexport default class Live2DSprite extends PIXI.Sprite {\n  constructor(modelDefine, options) {\n    super();\n\n    this.interactive = true;\n\n    this.platform = window.navigator.platform.toLowerCase();\n\n    const fullOptions = Object.assign({\n      priorityForce: 3,\n      priorityDefault: 1,\n      debugLog: false,\n      debugMouseLog: false,\n      eyeBlink: true,\n      lipSyncWithSound: true,\n      randomMotion: true,\n      defaultMotionGroup: \"idle\",\n      audioPlayer: null\n    }, options);\n\n    Live2D.init();\n    this.model = new LAppModel(fullOptions);\n\n    this.gl = null;\n    this.canvas = null;\n\n    this.dragMgr = null; /*new L2DTargetPoint();*/\n    this.viewMatrix = null; /*new L2DViewMatrix();*/\n    this.projMatrix = null; /*new L2DMatrix44()*/\n    this.deviceToScreen = null; /*new L2DMatrix44();*/\n\n    this.texture = null;\n\n    this.modelReady = false;\n    this.onModelReady = [];\n    this.modelDefine = modelDefine;\n\n  }\n\n  /**\n   * @private\n   */\n  init() {\n\n\n    var width = this.canvas.width;\n    var height = this.canvas.height;\n\n    this.texture = PIXI.RenderTexture.create(width, height);\n\n    this.canvasWidth = this.canvas.width;\n    this.canvasHeight = this.canvas.height;\n\n    this.dragMgr = new L2DTargetPoint();\n\n    var ratio = height / width;\n    var left = -1;\n    var right = 1;\n    var bottom = -ratio;\n    var top = ratio;\n\n    this.viewMatrix = new L2DViewMatrix();\n    this.viewMatrix.setMaxScreenRect(-2, 2, -2, 2);\n    this.viewMatrix.setScreenRect(left, right, bottom, top);\n    // this.viewMatrix.setMaxScale(2);\n    // this.viewMatrix.setMinScale(0.5);\n    // this.viewMatrix.adjustScale(0, 0, 0.7);\n\n    this.projMatrix = new L2DMatrix44();\n    this.projMatrix.multScale(ratio, 1);  // flip for rtt\n\n    this.deviceToScreen = new L2DMatrix44();\n    this.deviceToScreen.multTranslate( -width / 2.0, -height / 2.0);\n    this.deviceToScreen.multScale(2 / width, -2 / height);\n\n    Live2D.setGL(this.gl);\n\n    this.x = width / 2;\n    this.y = height / 2;\n    this.anchor.x = 0.5;\n    this.anchor.y = 0.5;\n    this.scale.y = -1;\n\n    this.gl.clearColor(0.0, 0.0, 0.0, 0.0);\n    this.model.load(this.gl, this.modelDefine, () => {\n      this.modelReady = true;\n    });\n  }\n\n  /**\n   * @private\n   */\n  draw() {\n    MatrixStack.reset();\n    MatrixStack.loadIdentity();\n\n    this.dragMgr.update();\n    this.model.setDrag(this.dragMgr.getX(), this.dragMgr.getY());\n\n    // this.viewMatrix.adjustTranslate(-this.x / this.canvasWidth, -this.y / this.canvasHeight);\n    // this.viewMatrix.adjustScale(this.anchor.x, this.anchor.y, this.scale.x, this.scale.y);\n\n    MatrixStack.multMatrix(this.projMatrix.getArray());\n    MatrixStack.multMatrix(this.viewMatrix.getArray());\n    // MatrixStack.multMatrix(this.deviceToScreen.getArray());\n    MatrixStack.push();\n\n    this.model.update();\n    this.model.draw(this.gl);\n\n    MatrixStack.pop();\n  }\n\n  _renderWebGL(renderer) {\n    if (!this.gl) {\n      this.gl = renderer.gl;\n      this.canvas = renderer.view;\n      this.modelDefine && this.init(this.modelDefine);\n    }\n\n    if (!this.modelReady) {\n      const gl = renderer.gl;\n      // it is unreasonable how the next line works...\n      gl.activeTexture(gl.TEXTURE0);\n      return;\n    }\n\n    while (this.onModelReady.length) {\n      const func = this.onModelReady.shift();\n      func();\n    }\n\n    if (!this.visible) {\n      return;\n    }\n\n    const useVAO = !!(renderer.createVao && renderer.bindVao);\n\n    let _activeVao;\n    if (useVAO) {\n      _activeVao = renderer._activeVao;\n    } else {\n      renderer.flush();\n    }\n    \n    const gl = renderer.gl;\n\n    const arrayBuffer = gl.getParameter(gl.ARRAY_BUFFER_BINDING);\n    const elementArrayBuffer = gl.getParameter(gl.ELEMENT_ARRAY_BUFFER_BINDING);\n    const currentProgram = gl.getParameter(gl.CURRENT_PROGRAM);\n\n    let activeTexture;\n    if (!useVAO) {\n      activeTexture = gl.getParameter(gl.ACTIVE_TEXTURE);\n    }\n\n    gl.activeTexture(gl.TEXTURE0);\n    const texture0 = gl.getParameter(gl.TEXTURE_BINDING_2D);\n    gl.activeTexture(gl.TEXTURE1);\n    const texture1 = gl.getParameter(gl.TEXTURE_BINDING_2D);\n\n    const frontFace = gl.getParameter(gl.FRONT_FACE);\n    const colorWhiteMask = gl.getParameter(gl.COLOR_WRITEMASK);\n\n    let vertexAttr0Enabled, vertexAttr1Enabled, vertexAttr2Enabled, vertexAttr3Enabled;\n    if (!useVAO) {\n      vertexAttr0Enabled = gl.getVertexAttrib(0, gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n      vertexAttr1Enabled = gl.getVertexAttrib(1, gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n      vertexAttr2Enabled = gl.getVertexAttrib(2, gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n      vertexAttr3Enabled = gl.getVertexAttrib(3, gl.VERTEX_ATTRIB_ARRAY_ENABLED);\n    }\n    const scissorTestEnabled = gl.isEnabled(gl.SCISSOR_TEST);\n    const stencilTestEnabled = gl.isEnabled(gl.STENCIL_TEST);\n    const depthTestEnabled = gl.isEnabled(gl.DEPTH_TEST);\n    const cullFaceEnabled = gl.isEnabled(gl.CULL_FACE);\n    const blendEnabled = gl.isEnabled(gl.BLEND);\n\n    const _activeTextureLocation = renderer._activeTexture ? renderer._activeTextureLocation : 0;\n    const _activeRenderTarget = renderer._activeRenderTarget;\n\n    let vao;\n    if (useVAO) {\n      vao = renderer.createVao();\n      renderer.bindVao(vao);\n    }\n    renderer.bindRenderTexture(this.texture);\n    gl.clearColor(0.0, 0.0, 0.0, 0.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    gl.frontFace(gl.CW);\n    this.draw();\n    if (!useVAO) {\n      renderer._activeTextureLocation = _activeTextureLocation;\n      gl.activeTexture(gl.TEXTURE0 + _activeTextureLocation);\n    }\n    gl.bindTexture(gl.TEXTURE_2D, null);\n    gl.useProgram(currentProgram);\n    renderer.bindRenderTarget(_activeRenderTarget);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, arrayBuffer);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementArrayBuffer);\n\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, texture0);\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, texture1);\n\n    if (!useVAO) {\n      gl.activeTexture(activeTexture);\n    }\n    gl.frontFace(frontFace);\n    gl.colorMask(...colorWhiteMask);\n    //\n    if (!useVAO) {\n      vertexAttr0Enabled ? gl.enableVertexAttribArray(0) : gl.disableVertexAttribArray(0);\n      vertexAttr1Enabled ? gl.enableVertexAttribArray(1) : gl.disableVertexAttribArray(1);\n      vertexAttr2Enabled ? gl.enableVertexAttribArray(2) : gl.disableVertexAttribArray(2);\n      vertexAttr3Enabled ? gl.enableVertexAttribArray(3) : gl.disableVertexAttribArray(3);\n    }\n    scissorTestEnabled ? gl.enable(gl.SCISSOR_TEST) : gl.disable(gl.SCISSOR_TEST);\n    stencilTestEnabled ? gl.enable(gl.STENCIL_TEST) : gl.disable(gl.STENCIL_TEST);\n    depthTestEnabled   ? gl.enable(gl.DEPTH_TEST) : gl.disable(gl.DEPTH_TEST);\n    cullFaceEnabled    ? gl.enable(gl.CULL_FACE) : gl.disable(gl.CULL_FACE);\n    blendEnabled       ? gl.enable(gl.BLEND) : gl.disable(gl.BLEND);\n\n    if (useVAO) {\n      vao.unbind();\n      vao.destroy();\n      renderer.bindVao(_activeVao);\n    }\n\n    super._renderWebGL(renderer);\n  }\n\n  destroy(...args) {\n    this.model.release();\n    super.destroy(...args);\n  }\n\n  containsPoint(point) {\n    if (this.modelReady) {\n      return this.hitTest(null, point.x, point.y);\n    }\n    return false;\n  }\n\n  /* Live2D methods */\n\n\n  /* Transforms */\n\n  adjustScale(cx, cy, scale) {\n    this.onModelReady.push(() => {\n      this.viewMatrix.adjustScale(cx, cy, scale);\n    });\n  }\n  adjustTranslate(shiftX, shiftY) {\n    this.onModelReady.push(() => {\n      this.viewMatrix.adjustTranslate(shiftX, -shiftY);\n    });\n  }\n\n  /**\n   * specify `PARAM_MOUTH_OPEN_Y` of Live2D model.\n   * @param value {Number} between 0~1, set to `null` will disable it.\n   */\n  setLipSync(value) {\n    if (value === null) {\n      this.model.setLipSync(false);\n    } else {\n      this.model.setLipSync(true);\n      this.model.setLipSyncValue(value);\n    }\n  }\n  setRandomExpression() {\n    this.onModelReady.push(() => {\n      this.model.setRandomExpression();\n    });\n  }\n  startRandomMotion(name, priority) {\n    this.onModelReady.push(() => {\n      this.model.startRandomMotion(name, priority);\n    });\n  }\n  startRandomMotionOnce(name, priority) {\n    this.onModelReady.push(() => {\n      this.model.startRandomMotionOnce(name, priority);\n    });\n  }\n  stopRandomMotion() {\n    this.onModelReady.push(() => {\n      this.model.stopRandomMotion();\n    });\n  }\n  startMotion(name, no, priority) {\n    this.onModelReady.push(() => {\n      this.model.startMotion(name, no, priority);\n    });\n  }\n  playSound(filename, host='/') {\n    this.onModelReady.push(() => {\n      this.model.playSound(filename, host);\n    });\n  }\n\n  /* Event methods */\n  hitTest(id, x, y) {\n    return this.model.hitTest(id,\n      this.viewMatrix.invertTransformX(this.deviceToScreen.transformX(x)),\n      this.viewMatrix.invertTransformY(this.deviceToScreen.transformY(y)));\n  }\n  setViewPoint(x, y) {\n    this.dragMgr.setPoint(this.viewMatrix.invertTransformX(this.deviceToScreen.transformX(x)),\n    this.viewMatrix.invertTransformY(this.deviceToScreen.transformY(y)));\n  }\n\n\n  /* Some raw methods of Live2D */\n  getParamFloat(key) {\n    return this.model.getLive2DModel().getParamFloat(key);\n  }\n  setParamFloat(key, value, weight=1) {\n    this.model.getLive2DModel().setParamFloat(key, value, weight);\n  }\n  addToParamFloat(key, value, weight=1) {\n    this.model.getLive2DModel().addToParamFloat(key, value, weight);\n  }\n  multParamFloat(key, value, weight=1) {\n    this.model.getLive2DModel().multParamFloat(key, value, weight);\n  }\n\n}\n\nif (PIXI) {\n  PIXI.Live2DSprite = Live2DSprite;\n} else {\n  console.error('Error: Cannot find global variable `PIXI`, Live2D plguin will not be installed.');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// const log = console.log;\n// console.log = () => {};\n// const __ = require('./live2dsdk');\n// console.log = log;\n\nexport {\n  UtSystem,\n  UtDebug,\n  LDTransform,\n  LDGL,\n  Live2D,\n  Live2DModelWebGL,\n  Live2DModelJS,\n  Live2DMotion,\n  MotionQueueManager,\n  PhysicsHair,\n  AMotion,\n  PartsDataID,\n  DrawDataID,\n  BaseDataID,\n  ParamID\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/live2d.js","//============================================================\r\n//============================================================\r\n//  class LAppModel     extends L2DBaseModel\r\n//============================================================\r\n//============================================================\r\n\r\nimport { L2DBaseModel, L2DEyeBlink } from './Live2DFramework';\r\nimport MatrixStack from './MatrixStack';\r\nimport ModelSettingJson from './ModelSettingJson';\r\n\r\nexport default function LAppModel(options)\r\n{\r\n    //L2DBaseModel.apply(this, arguments);\r\n    L2DBaseModel.prototype.constructor.call(this);\r\n\r\n    this.options = options;\r\n\r\n    this.randomMotion = this.options.randomMotion;\r\n    this.randomMotionGroup = null;\r\n    this.randomMotionPriority = null;\r\n\r\n    this.modelHomeDir = \"\";\r\n    this.modelSetting = null;\r\n    this.tmpMatrix = [];\r\n\r\n    this.audioElement = null;\r\n    this.audioContext = null;\r\n    this.audioAnalyser = null;\r\n}\r\n\r\nLAppModel.prototype = new L2DBaseModel();\r\n\r\n\r\nLAppModel.prototype.load = function(gl, modelDefine, callback)\r\n{\r\n    this.setUpdating(true);\r\n    this.setInitialized(false);\r\n\r\n    this.modelHomeDir = './';\r\n\r\n    this.modelSetting = new ModelSettingJson(modelDefine);\r\n\r\n    var thisRef = this;\r\n\r\n    // this.modelSetting.loadModelSetting(modelSettingPath, function(){\r\n\r\n        var path = thisRef.modelHomeDir + thisRef.modelSetting.getModelFile();\r\n        thisRef.loadModelData(path, function(model){\r\n\r\n            for (var i = 0; i < thisRef.modelSetting.getTextureNum(); i++)\r\n            {\r\n\r\n                var texPaths = thisRef.modelHomeDir +\r\n                    thisRef.modelSetting.getTextureFile(i);\r\n\r\n                thisRef.loadTexture(gl, i, texPaths, function() {\r\n\r\n                    if( thisRef.isTexLoaded ) {\r\n\r\n                        if (thisRef.modelSetting.getExpressionNum() > 0)\r\n                        {\r\n\r\n                            thisRef.expressions = {};\r\n\r\n                            for (var j = 0; j < thisRef.modelSetting.getExpressionNum(); j++)\r\n                            {\r\n                                var expName = thisRef.modelSetting.getExpressionName(j);\r\n                                var expFilePath = thisRef.modelHomeDir +\r\n                                    thisRef.modelSetting.getExpressionFile(j);\r\n\r\n                                thisRef.loadExpression(expName, expFilePath);\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            thisRef.expressionManager = null;\r\n                            thisRef.expressions = {};\r\n                        }\r\n\r\n\r\n\r\n                        if (!thisRef.eyeBlink)\r\n                        {\r\n                            thisRef.eyeBlink = new L2DEyeBlink();\r\n                        }\r\n\r\n\r\n                        if (thisRef.modelSetting.getPhysicsFile())\r\n                        {\r\n                            thisRef.loadPhysics(thisRef.modelHomeDir +\r\n                                                thisRef.modelSetting.getPhysicsFile());\r\n                        }\r\n                        else\r\n                        {\r\n                            thisRef.physics = null;\r\n                        }\r\n\r\n\r\n\r\n                        if (thisRef.modelSetting.getPoseFile())\r\n                        {\r\n                            thisRef.loadPose(\r\n                                thisRef.modelHomeDir +\r\n                                thisRef.modelSetting.getPoseFile(),\r\n                                function() {\r\n                                    thisRef.pose.updateParam(thisRef.live2DModel);\r\n                                }\r\n                            );\r\n                        }\r\n                        else\r\n                        {\r\n                            thisRef.pose = null;\r\n                        }\r\n\r\n\r\n\r\n                        if (thisRef.modelSetting.getLayout())\r\n                        {\r\n                            var layout = thisRef.modelSetting.getLayout();\r\n                            if (layout[\"width\"] != null)\r\n                                thisRef.modelMatrix.setWidth(layout[\"width\"]);\r\n                            if (layout[\"height\"] != null)\r\n                                thisRef.modelMatrix.setHeight(layout[\"height\"]);\r\n\r\n                            if (layout[\"x\"] != null)\r\n                                thisRef.modelMatrix.setX(layout[\"x\"]);\r\n                            if (layout[\"y\"] != null)\r\n                                thisRef.modelMatrix.setY(layout[\"y\"]);\r\n                            if (layout[\"center_x\"] != null)\r\n                                thisRef.modelMatrix.centerX(layout[\"center_x\"]);\r\n                            if (layout[\"center_y\"] != null)\r\n                                thisRef.modelMatrix.centerY(layout[\"center_y\"]);\r\n                            if (layout[\"top\"] != null)\r\n                                thisRef.modelMatrix.top(layout[\"top\"]);\r\n                            if (layout[\"bottom\"] != null)\r\n                                thisRef.modelMatrix.bottom(layout[\"bottom\"]);\r\n                            if (layout[\"left\"] != null)\r\n                                thisRef.modelMatrix.left(layout[\"left\"]);\r\n                            if (layout[\"right\"] != null)\r\n                                thisRef.modelMatrix.right(layout[\"right\"]);\r\n                        }\r\n\r\n                        for (var j = 0; j < thisRef.modelSetting.getInitParamNum(); j++)\r\n                        {\r\n\r\n                            thisRef.live2DModel.setParamFloat(\r\n                                thisRef.modelSetting.getInitParamID(j),\r\n                                thisRef.modelSetting.getInitParamValue(j)\r\n                            );\r\n                        }\r\n\r\n                        for (var j = 0; j < thisRef.modelSetting.getInitPartsVisibleNum(); j++)\r\n                        {\r\n\r\n                            thisRef.live2DModel.setPartsOpacity(\r\n                                thisRef.modelSetting.getInitPartsVisibleID(j),\r\n                                thisRef.modelSetting.getInitPartsVisibleValue(j)\r\n                            );\r\n                        }\r\n\r\n\r\n\r\n                        thisRef.live2DModel.saveParam();\r\n                        // thisRef.live2DModel.setGL(gl);\r\n\r\n\r\n                        thisRef.preloadMotionGroup(thisRef.options.defaultMotionGroup);\r\n                        thisRef.mainMotionManager.stopAllMotions();\r\n\r\n                        thisRef.setUpdating(false);\r\n                        thisRef.setInitialized(true);\r\n\r\n                        if (typeof callback == \"function\") callback();\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    // });\r\n};\r\n\r\n\r\n\r\nLAppModel.prototype.release = function(gl)\r\n{\r\n    // this.live2DModel.deleteTextures();\r\n    // var pm = Live2DFramework.getPlatformManager();\r\n    //\r\n    // gl.deleteTexture(pm.texture);\r\n}\r\n\r\n\r\n\r\nLAppModel.prototype.preloadMotionGroup = function(name)\r\n{\r\n    var thisRef = this;\r\n\r\n    for (var i = 0; i < this.modelSetting.getMotionNum(name); i++)\r\n    {\r\n        var file = this.modelSetting.getMotionFile(name, i);\r\n        this.loadMotion(file, this.modelHomeDir + file, function(motion) {\r\n            motion.setFadeIn(thisRef.modelSetting.getMotionFadeIn(name, i));\r\n            motion.setFadeOut(thisRef.modelSetting.getMotionFadeOut(name, i));\r\n        });\r\n\r\n    }\r\n}\r\n\r\n\r\nLAppModel.prototype.update = function()\r\n{\r\n    // console.log(\"--> LAppModel.update()\");\r\n\r\n    if(!this.live2DModel)\r\n    {\r\n        if (this.options.debugLog) console.error(\"Failed to update.\");\r\n\r\n        return;\r\n    }\r\n\r\n    var timeMSec = UtSystem.getUserTimeMSec() - this.startTimeMSec;\r\n    var timeSec = timeMSec / 1000.0;\r\n    var t = timeSec * 2 * Math.PI;\r\n\r\n\r\n    if (this.mainMotionManager.isFinished() && this.randomMotion)\r\n    {\r\n        this.startRandomMotion(this.randomMotionGroup || this.options.defaultMotionGroup, this.randomMotionPriority || this.options.priorityDefault);\r\n    }\r\n\r\n    //-----------------------------------------------------------------\r\n\r\n\r\n    this.live2DModel.loadParam();\r\n\r\n\r\n\r\n    var update = this.mainMotionManager.updateParam(this.live2DModel);\r\n    if (!update) {\r\n\r\n        if(this.eyeBlink && this.options.eyeBlink) {\r\n            this.eyeBlink.updateParam(this.live2DModel);\r\n        }\r\n    }\r\n\r\n\r\n    this.live2DModel.saveParam();\r\n\r\n    //-----------------------------------------------------------------\r\n\r\n\r\n    if (this.expressionManager &&\r\n        this.expressions &&\r\n        !this.expressionManager.isFinished())\r\n    {\r\n        this.expressionManager.updateParam(this.live2DModel);\r\n    }\r\n\r\n\r\n\r\n    this.live2DModel.addToParamFloat(\"PARAM_ANGLE_X\", this.dragX * 30, 1);\r\n    this.live2DModel.addToParamFloat(\"PARAM_ANGLE_Y\", this.dragY * 30, 1);\r\n    this.live2DModel.addToParamFloat(\"PARAM_ANGLE_Z\", (this.dragX * this.dragY) * -30, 1);\r\n\r\n\r\n\r\n    this.live2DModel.addToParamFloat(\"PARAM_BODY_ANGLE_X\", this.dragX*10, 1);\r\n\r\n\r\n\r\n    this.live2DModel.addToParamFloat(\"PARAM_EYE_BALL_X\", this.dragX, 1);\r\n    this.live2DModel.addToParamFloat(\"PARAM_EYE_BALL_Y\", this.dragY, 1);\r\n\r\n\r\n\r\n    // this.live2DModel.addToParamFloat(\"PARAM_ANGLE_X\",\r\n    //                                  Number((15 * Math.sin(t / 6.5345))), 0.5);\r\n    // this.live2DModel.addToParamFloat(\"PARAM_ANGLE_Y\",\r\n    //                                  Number((8 * Math.sin(t / 3.5345))), 0.5);\r\n    // this.live2DModel.addToParamFloat(\"PARAM_ANGLE_Z\",\r\n    //                                  Number((10 * Math.sin(t / 5.5345))), 0.5);\r\n    // this.live2DModel.addToParamFloat(\"PARAM_BODY_ANGLE_X\",\r\n    //                                  Number((4 * Math.sin(t / 15.5345))), 0.5);\r\n    // this.live2DModel.setParamFloat(\"PARAM_BREATH\",\r\n    //                                Number((0.5 + 0.5 * Math.sin(t / 3.2345))), 1);\r\n\r\n\r\n    if (this.physics)\r\n    {\r\n        this.physics.updateParam(this.live2DModel);\r\n    }\r\n\r\n    if (this.lipSync)\r\n    {\r\n        this.live2DModel.setParamFloat(\"PARAM_MOUTH_OPEN_Y\",\r\n                                       this.lipSyncValue);\r\n    }\r\n\r\n\r\n    if( this.pose ) {\r\n        this.pose.updateParam(this.live2DModel);\r\n    }\r\n\r\n    this.live2DModel.update();\r\n};\r\n\r\n\r\n\r\nLAppModel.prototype.setRandomExpression = function()\r\n{\r\n    var tmp = [];\r\n    for (var name in this.expressions)\r\n    {\r\n        tmp.push(name);\r\n    }\r\n\r\n    var no = parseInt(Math.random() * tmp.length);\r\n\r\n    this.setExpression(tmp[no]);\r\n}\r\n\r\n\r\n\r\nLAppModel.prototype.startRandomMotion = function(name, priority)\r\n{\r\n    var max = this.modelSetting.getMotionNum(name);\r\n    var no = parseInt(Math.random() * max);\r\n    this.startMotion(name, no, priority);\r\n    this.randomMotion = true;\r\n    this.randomMotionGroup = name;\r\n    this.randomMotionPriority = priority;\r\n}\r\nLAppModel.prototype.startRandomMotionOnce = function(name, priority)\r\n{\r\n    var max = this.modelSetting.getMotionNum(name);\r\n    var no = parseInt(Math.random() * max);\r\n    this.startMotion(name, no, priority);\r\n}\r\n\r\nLAppModel.prototype.stopRandomMotion = function()\r\n{\r\n    this.randomMotion = false;\r\n    this.randomMotionGroup = null;\r\n    this.randomMotionPriority = null;\r\n}\r\n\r\n\r\n\r\nLAppModel.prototype.startMotion = function(name, no, priority)\r\n{\r\n    // console.log(\"startMotion : \" + name + \" \" + no + \" \" + priority);\r\n\r\n    var motionName = this.modelSetting.getMotionFile(name, no);\r\n\r\n    if (motionName == null || motionName == \"\")\r\n    {\r\n        if (this.options.debugLog)\r\n            console.warn(\"Failed to motion.\");\r\n        return;\r\n    }\r\n\r\n    if (priority == this.options.priorityForce)\r\n    {\r\n        this.mainMotionManager.setReservePriority(priority);\r\n    }\r\n    else if (!this.mainMotionManager.reserveMotion(priority))\r\n    {\r\n        if (this.options.debugLog)\r\n            console.log(\"Motion is running.\")\r\n        return;\r\n    }\r\n\r\n    var thisRef = this;\r\n    var motion;\r\n\r\n    if (this.motions[name] == null)\r\n    {\r\n        this.loadMotion(null, this.modelHomeDir + motionName, function(mtn) {\r\n            motion = mtn;\r\n\r\n\r\n            thisRef.setFadeInFadeOut(name, no, priority, motion);\r\n\r\n        });\r\n    }\r\n    else\r\n    {\r\n        motion = this.motions[name];\r\n\r\n\r\n        thisRef.setFadeInFadeOut(name, no, priority, motion);\r\n    }\r\n}\r\n\r\n\r\nLAppModel.prototype.setFadeInFadeOut = function(name, no, priority, motion)\r\n{\r\n    var motionName = this.modelSetting.getMotionFile(name, no);\r\n\r\n    motion.setFadeIn(this.modelSetting.getMotionFadeIn(name, no));\r\n    motion.setFadeOut(this.modelSetting.getMotionFadeOut(name, no));\r\n\r\n\r\n    if (this.options.debugLog)\r\n            console.log(\"Start motion : \" + motionName);\r\n\r\n    if (this.modelSetting.getMotionSound(name, no) == null)\r\n    {\r\n        this.mainMotionManager.startMotionPrio(motion, priority);\r\n    }\r\n    else\r\n    {\r\n        var soundName = this.modelSetting.getMotionSound(name, no);\r\n        // var player = new Sound(this.modelHomeDir + soundName);\r\n\r\n        if (this.options.debugLog)\r\n            console.log(\"Start sound : \" + soundName);\r\n\r\n        this.playSound(soundName, this.modelHomeDir);\r\n\r\n        this.mainMotionManager.startMotionPrio(motion, priority);\r\n    }\r\n}\r\n\r\nLAppModel.prototype.playSound = function(filename, host)\r\n{\r\n    if (this.options.audioPlayer) {\r\n        this.options.audioPlayer(filename, host);\r\n    } else {\r\n        const audio = this.audioElement || document.createElement(\"audio\");\r\n        !this.audioElement && (this.audioElement = audio);\r\n        audio.src = host + filename;\r\n\r\n        const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n        if (AudioContext && this.options.lipSyncWithSound) {\r\n            const context = this.audioContext || new AudioContext();\r\n            if (!this.audioContext) {\r\n                this.audioContext = context;\r\n                this.audioElementSource = context.createMediaElementSource(audio);\r\n            }\r\n            const source = this.audioElementSource;\r\n            const analyser = this.audioAnalyser || context.createAnalyser();\r\n            !this.audioAnalyser && (this.audioAnalyser = analyser);\r\n\r\n            analyser.fftSize = 32;\r\n            var bufferLength = analyser.frequencyBinCount;\r\n            let cache = [];\r\n            let lastTime = Date.now();\r\n            const intervalId = setInterval(() => {\r\n                const dataArray = new Uint8Array(bufferLength);\r\n                analyser.getByteFrequencyData(dataArray);\r\n                const value = (dataArray[9] + dataArray[10] + dataArray[11]) / 3;\r\n                if (Date.now() - lastTime  < 33) {\r\n                    cache.push(value);\r\n                } else {\r\n                    const lipValue = cache.length ?\r\n                    (cache.reduce((previous, current) => current += previous) / cache.length / 100)\r\n                    : this.lipSyncValue;\r\n                    this.lipSync = true;\r\n                    this.lipSyncValue = lipValue;\r\n                    lastTime = Date.now();\r\n                    cache = [];\r\n                }\r\n            }, 0);\r\n            audio.addEventListener('ended', () => {\r\n                clearInterval(intervalId);\r\n                this.lipSyncValue = 0;\r\n            });\r\n            source.connect(analyser);\r\n            analyser.connect(context.destination);\r\n        }\r\n        audio.play();\r\n    }\r\n}\r\n\r\n\r\nLAppModel.prototype.setExpression = function(name)\r\n{\r\n    var motion = this.expressions[name];\r\n\r\n    if (this.options.debugLog)\r\n        console.log(\"Expression : \" + name);\r\n\r\n    this.expressionManager.startMotion(motion, false);\r\n}\r\n\r\n\r\n\r\nLAppModel.prototype.draw = function(gl)\r\n{\r\n    //console.log(\"--> LAppModel.draw()\");\r\n\r\n    // if(this.live2DModel == null) return;\r\n\r\n\r\n    MatrixStack.push();\r\n\r\n    MatrixStack.multMatrix(this.modelMatrix.getArray());\r\n\r\n    this.tmpMatrix = MatrixStack.getMatrix()\r\n    this.live2DModel.setMatrix(this.tmpMatrix);\r\n    this.live2DModel.draw();\r\n\r\n    MatrixStack.pop();\r\n\r\n};\r\n\r\n\r\n\r\nLAppModel.prototype.hitTest = function(id, testX, testY)\r\n{\r\n    var len = this.modelSetting.getHitAreaNum();\r\n    let hit = false;\r\n    for (var i = 0; i < len; i++)\r\n    {\r\n        // NOTE: id == null means to test all ids.\r\n        if (id == null) {\r\n            var drawID = this.modelSetting.getHitAreaID(i);\r\n            hit = this.hitTestSimple(drawID, testX, testY);\r\n            if (hit) {\r\n                return hit;\r\n            }\r\n        } else if (id == this.modelSetting.getHitAreaName(i)) {\r\n            var drawID = this.modelSetting.getHitAreaID(i);\r\n\r\n            return this.hitTestSimple(drawID, testX, testY);\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/LAppModel.js","/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n import {\r\n   UtSystem,\r\n   UtDebug,\r\n   LDTransform,\r\n   LDGL,\r\n   Live2D,\r\n   Live2DModelWebGL,\r\n   Live2DModelJS,\r\n   Live2DMotion,\r\n   MotionQueueManager,\r\n   PhysicsHair,\r\n   AMotion,\r\n   PartsDataID,\r\n   DrawDataID,\r\n   BaseDataID,\r\n   ParamID\r\n} from './live2d';\r\nimport { loadBytes } from './netUtils';\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DBaseModel\r\n//============================================================\r\n//============================================================\r\nexport function L2DBaseModel()\r\n{\r\n    this.live2DModel     = null; // ALive2DModel\r\n    this.modelMatrix     = null; // L2DModelMatrix\r\n    this.eyeBlink        = null; // L2DEyeBlink\r\n    this.physics         = null; // L2DPhysics\r\n    this.pose            = null; // L2DPose\r\n    this.debugMode       = false;\r\n    this.initialized     = false;\r\n    this.updating        = false;\r\n    this.alpha           = 1;\r\n    this.accAlpha        = 0;\r\n    this.lipSync         = false;\r\n    this.lipSyncValue    = 0;\r\n    this.accelX          = 0;\r\n    this.accelY          = 0;\r\n    this.accelZ          = 0;\r\n    this.dragX           = 0;\r\n    this.dragY           = 0;\r\n    this.startTimeMSec   = null;\r\n    this.mainMotionManager = new L2DMotionManager(); //L2DMotionManager\r\n    this.expressionManager = new L2DMotionManager(); //L2DMotionManager\r\n    this.motions = {};\r\n    this.expressions = {};\r\n\r\n    this.isTexLoaded = false;\r\n}\r\n\r\nvar texCounter = 0;\r\n\r\n//============================================================\r\n//    L2DBaseModel # getModelMatrix()\r\n//============================================================\r\nL2DBaseModel.prototype.getModelMatrix  = function()\r\n{\r\n    return this.modelMatrix;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # setAlpha()\r\n//============================================================\r\nL2DBaseModel.prototype.setAlpha        = function(a/*float*/)\r\n{\r\n    if( a > 0.999 ) a = 1;\r\n    if( a < 0.001 ) a = 0;\r\n    this.alpha = a;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # getAlpha()\r\n//============================================================\r\nL2DBaseModel.prototype.getAlpha        = function()\r\n{\r\n    return this.alpha;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # isInitialized()\r\n//============================================================\r\nL2DBaseModel.prototype.isInitialized   = function()\r\n{\r\n    return this.initialized;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # setInitialized()\r\n//============================================================\r\nL2DBaseModel.prototype.setInitialized  = function( v/*boolean*/)\r\n{\r\n    this.initialized = v;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # isUpdating()\r\n//============================================================\r\nL2DBaseModel.prototype.isUpdating      = function()\r\n{\r\n    return this.updating;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # setUpdating()\r\n//============================================================\r\nL2DBaseModel.prototype.setUpdating     = function(v/*boolean*/)\r\n{\r\n    this.updating = v;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # getLive2DModel()\r\n//============================================================\r\nL2DBaseModel.prototype.getLive2DModel  = function()\r\n{\r\n    return this.live2DModel;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # setLipSync()\r\n//============================================================\r\nL2DBaseModel.prototype.setLipSync      = function(v/*boolean*/)\r\n{\r\n    this.lipSync = v;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # setLipSyncValue()\r\n//============================================================\r\nL2DBaseModel.prototype.setLipSyncValue = function(v/*float*/)\r\n{\r\n    this.lipSyncValue = v;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # setAccel()\r\n//============================================================\r\nL2DBaseModel.prototype.setAccel        = function(x/*float*/, y/*float*/, z/*float*/)\r\n{\r\n    this.accelX = x;\r\n    this.accelY = y;\r\n    this.accelZ = z;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # setDrag()\r\n//============================================================\r\nL2DBaseModel.prototype.setDrag         = function(x/*float*/, y/*float*/)\r\n{\r\n    this.dragX = x;\r\n    this.dragY = y;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # getMainMotionManager()\r\n//============================================================\r\nL2DBaseModel.prototype.getMainMotionManager = function()\r\n{\r\n    return this.mainMotionManager;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # getExpressionManager()\r\n//============================================================\r\nL2DBaseModel.prototype.getExpressionManager = function()\r\n{\r\n    return this.expressionManager;\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # loadModelData()\r\n//============================================================\r\nL2DBaseModel.prototype.loadModelData   = function(path/*String*/, callback)\r\n{\r\n    /*\r\n    if( this.live2DModel != null ) {\r\n        this.live2DModel.deleteTextures();\r\n    }\r\n    */\r\n    // var pm = Live2DFramework.getPlatformManager(); //IPlatformManager\r\n    if( this.debugMode ) console.log(\"Load model : \" + path);\r\n\r\n    var thisRef = this;\r\n    loadBytes(path, 'arraybuffer', function(buf) {\r\n        thisRef.live2DModel = Live2DModelWebGL.loadModel(buf);\r\n        thisRef.live2DModel.saveParam();\r\n\r\n        var _err = Live2D.getError();\r\n\r\n        if( _err != 0 ) {\r\n            console.error(\"Error : Failed to loadModelData().\");\r\n            return;\r\n        }\r\n\r\n        thisRef.modelMatrix = new L2DModelMatrix(\r\n            thisRef.live2DModel.getCanvasWidth(),\r\n            thisRef.live2DModel.getCanvasHeight()); //L2DModelMatrix\r\n        thisRef.modelMatrix.setWidth(2);\r\n        thisRef.modelMatrix.setCenterPosition(0, 0);\r\n\r\n        callback(thisRef.live2DModel);\r\n    });\r\n}\r\n\r\n\r\n//============================================================\r\n//    L2DBaseModel # loadTexture()\r\n//============================================================\r\nL2DBaseModel.prototype.loadTexture     = function(gl, no/*int*/, path/*String*/, callback)\r\n{\r\n    texCounter++;\r\n\r\n    // var pm = Live2DFramework.getPlatformManager(); //IPlatformManager\r\n\r\n    if( this.debugMode ) console.log(\"Load Texture : \" + path);\r\n\r\n    var thisRef = this;\r\n    this._loadTexture(gl, this.live2DModel , no , path, function(){\r\n        texCounter--;\r\n        if(texCounter == 0) thisRef.isTexLoaded = true;\r\n        if (typeof callback == \"function\") callback();\r\n    });\r\n\r\n}\r\n\r\nL2DBaseModel.prototype._loadTexture = function(gl, model, no, path, callback) {\r\n// load textures\r\nvar loadedImage = new Image();\r\nloadedImage.src = path;\r\n\r\nvar thisRef = this;\r\nloadedImage.onload = () => {\r\n\r\n    // create texture\r\n   //  var canvas = document.getElementById(\"glcanvas\");\r\n    // var gl = getWebGLContext(canvas, {premultipliedAlpha : true});\r\n    var texture = gl.createTexture();\r\n    if (!texture){ console.error(\"Failed to generate gl texture name.\"); return -1; }\r\n\r\n    if(model.isPremultipliedAlpha() == false){\r\n        // \r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\r\n    }\r\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA,\r\n                  gl.UNSIGNED_BYTE, loadedImage);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\r\n    gl.generateMipmap(gl.TEXTURE_2D);\r\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 0);\r\n\r\n    model.setTexture(no, texture);\r\n\r\n    if (typeof callback == \"function\") callback();\r\n};\r\n\r\nloadedImage.onerror = function() {\r\n    console.error(\"Failed to load image : \" + path);\r\n}\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # loadMotion()\r\n//============================================================\r\nL2DBaseModel.prototype.loadMotion      = function(name/*String*/, path /*String*/, callback)\r\n{\r\n    // var pm = Live2DFramework.getPlatformManager(); //IPlatformManager\r\n\r\n    if(this.debugMode) console.log(\"Load Motion : \" + path);\r\n\r\n    var motion = null; //Live2DMotion\r\n\r\n    var thisRef = this;\r\n    loadBytes(path, 'arraybuffer', function(buf) {\r\n        motion = Live2DMotion.loadMotion(buf);\r\n        if( name != null ) {\r\n            thisRef.motions[name] = motion;\r\n        }\r\n        callback(motion);\r\n    });\r\n\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # loadExpression()\r\n//============================================================\r\nL2DBaseModel.prototype.loadExpression  = function(name/*String*/, path /*String*/, callback)\r\n{\r\n    // var pm = Live2DFramework.getPlatformManager(); //IPlatformManager\r\n\r\n    if( this.debugMode ) console.log(\"Load Expression : \" + path);\r\n\r\n    var thisRef = this;\r\n    loadBytes(path, 'json', function(json) {\r\n        if(name != null) {\r\n            thisRef.expressions[name] = L2DExpressionMotion.loadJson(json);\r\n        }\r\n        if (typeof callback == \"function\") callback();\r\n    });\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # loadPose()\r\n//============================================================\r\nL2DBaseModel.prototype.loadPose = function( path /*String*/, callback )\r\n{\r\n    // var pm = Live2DFramework.getPlatformManager(); //IPlatformManager\r\n    if( this.debugMode ) console.log(\"Load Pose : \" + path);\r\n    var thisRef = this;\r\n    try {\r\n        loadBytes(path, 'json', function(json) {\r\n            thisRef.pose = L2DPose.load(json);\r\n            if (typeof callback == \"function\") callback();\r\n        });\r\n    }\r\n    catch(e) {\r\n        console.warn(e);\r\n    }\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # loadPhysics()\r\n//============================================================\r\nL2DBaseModel.prototype.loadPhysics     = function(path/*String*/)\r\n{\r\n    // var pm = Live2DFramework.getPlatformManager(); //IPlatformManager\r\n    if( this.debugMode ) console.log(\"Load Physics : \" + path);\r\n    var thisRef = this;\r\n    try {\r\n        loadBytes(path, 'json', function(json) {\r\n            thisRef.physics = L2DPhysics.load(json);\r\n        });\r\n    }\r\n    catch(e){\r\n        console.warn(e);\r\n    }\r\n}\r\n\r\n//============================================================\r\n//    L2DBaseModel # hitTestSimple()\r\n//============================================================\r\nL2DBaseModel.prototype.hitTestSimple = function(drawID, testX, testY)\r\n{\r\n    var drawIndex = this.live2DModel.getDrawDataIndex(drawID);\r\n\r\n    if( drawIndex < 0 ) return false;\r\n\r\n    var points = this.live2DModel.getTransformedPoints(drawIndex);\r\n    var left = this.live2DModel.getCanvasWidth();\r\n    var right = 0;\r\n    var top = this.live2DModel.getCanvasHeight();\r\n    var bottom = 0;\r\n\r\n    for( var j = 0; j < points.length; j = j + 2 ) {\r\n        var x = points[j];\r\n        var y = points[j + 1];\r\n\r\n        if( x < left ) left = x;\r\n        if( x > right ) right = x;\r\n        if( y < top ) top = y;\r\n        if( y > bottom ) bottom = y;\r\n    }\r\n    var tx = this.modelMatrix.invertTransformX(testX);\r\n    var ty = this.modelMatrix.invertTransformY(testY);\r\n   //  console.log(left << 0, right << 0, tx << 0)\r\n   //  console.log(bottom << 0, top << 0, ty << 0)\r\n    return ( left <= tx && tx <= right && top <= ty && ty <= bottom );\r\n}\r\n\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DExpressionMotion  extends     AMotion\r\n//============================================================\r\n//============================================================\r\nexport function L2DExpressionMotion()\r\n{\r\n    AMotion.prototype.constructor.call(this);\r\n    this.paramList = new Array(); //ArrayList<L2DExpressionParam>\r\n}\r\n\r\nL2DExpressionMotion.prototype = new AMotion(); // L2DExpressionMotion extends AMotion\r\n\r\n//============================================================\r\nL2DExpressionMotion.EXPRESSION_DEFAULT  = \"DEFAULT\";\r\nL2DExpressionMotion.TYPE_SET            = 0;\r\nL2DExpressionMotion.TYPE_ADD            = 1;\r\nL2DExpressionMotion.TYPE_MULT           = 2;\r\n\r\n//============================================================\r\n//    static L2DExpressionMotion.loadJson()\r\n//============================================================\r\nL2DExpressionMotion.loadJson        = function(json)\r\n{\r\n    var ret = new L2DExpressionMotion();\r\n\r\n    // var pm = Live2DFramework.getPlatformManager();\r\n   //  var json = jsonParseFromBytes(buf);\r\n\r\n    ret.setFadeIn(parseInt(json.fade_in) > 0 ? parseInt(json.fade_in) : 1000);\r\n    ret.setFadeOut(parseInt(json.fade_out) > 0 ? parseInt(json.fade_out) : 1000);\r\n\r\n    if(json.params == null) {\r\n        return ret;\r\n    }\r\n\r\n    var params = json.params;\r\n    var paramNum = params.length;\r\n    ret.paramList = []; //ArrayList<L2DExpressionParam>\r\n    for( var i = 0; i < paramNum; i++) {\r\n        var param = params[i];\r\n        var paramID = param.id.toString();\r\n        var value = parseFloat(param.val);\r\n        var calcTypeInt = L2DExpressionMotion.TYPE_ADD;\r\n        var calc = param.calc != null ? param.calc.toString() : \"add\";\r\n        if(calc === \"add\") {\r\n            calcTypeInt = L2DExpressionMotion.TYPE_ADD;\r\n        }\r\n        else if(calc === \"mult\") {\r\n            calcTypeInt = L2DExpressionMotion.TYPE_MULT;\r\n        }\r\n        else if(calc === \"set\") {\r\n            calcTypeInt = L2DExpressionMotion.TYPE_SET;\r\n        }\r\n        else {\r\n            calcTypeInt = L2DExpressionMotion.TYPE_ADD;\r\n        }\r\n        if(calcTypeInt == L2DExpressionMotion.TYPE_ADD) {\r\n            var defaultValue = param.def == null ? 0 : parseFloat(param.def);\r\n            value = value - defaultValue;\r\n        }\r\n        else if(calcTypeInt == L2DExpressionMotion.TYPE_MULT) {\r\n            var defaultValue = param.def == null ? 1 : parseFloat(param.def);\r\n            if(defaultValue == 0 ) defaultValue = 1;\r\n            value = value / defaultValue;\r\n        }\r\n\r\n        var item = new L2DExpressionParam(  );\r\n        item.id = paramID;\r\n        item.type = calcTypeInt;\r\n        item.value = value;\r\n\r\n        ret.paramList.push(item);\r\n    }\r\n\r\n     return ret;\r\n}\r\n\r\n\r\n//============================================================\r\n//    L2DExpressionMotion # updateParamExe()\r\n//============================================================\r\nL2DExpressionMotion.prototype.updateParamExe  = function(model /*ALive2DModel*/, timeMSec/*long*/ ,weight /*float*/ ,motionQueueEnt /*MotionQueueEnt*/)\r\n{\r\n    for(var i = this.paramList.length - 1; i >= 0; --i) {\r\n        var param = this.paramList[i]; //L2DExpressionParam\r\n        // if (!param || !param.type) continue;\r\n        if(param.type == L2DExpressionMotion.TYPE_ADD) {\r\n            model.addToParamFloat(param.id, param.value, weight);\r\n        }\r\n        else if(param.type == L2DExpressionMotion.TYPE_MULT) {\r\n            model.multParamFloat(param.id, param.value, weight);\r\n        }\r\n        else if(param.type == L2DExpressionMotion.TYPE_SET) {\r\n            model.setParamFloat(param.id, param.value, weight);\r\n        }\r\n    }\r\n}\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DExpressionParam\r\n//============================================================\r\n//============================================================\r\nexport function L2DExpressionParam()\r\n{\r\n    this.id              = \"\";\r\n    this.type            = -1;\r\n    this.value           = null;\r\n}\r\n\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DEyeBlink\r\n//============================================================\r\n//============================================================\r\nexport function L2DEyeBlink()\r\n{\r\n    this.nextBlinkTime   = null /* TODO NOT INIT */; //\r\n    this.stateStartTime  = null /* TODO NOT INIT */; //\r\n    this.blinkIntervalMsec = null /* TODO NOT INIT */; //\r\n    this.eyeState = EYE_STATE.STATE_FIRST;\r\n    this.blinkIntervalMsec = 4000;\r\n    this.closingMotionMsec = 100;\r\n    this.closedMotionMsec = 50;\r\n    this.openingMotionMsec = 150;\r\n    this.closeIfZero = true;\r\n    this.eyeID_L = \"PARAM_EYE_L_OPEN\";\r\n    this.eyeID_R = \"PARAM_EYE_R_OPEN\";\r\n}\r\n\r\n//============================================================\r\n//    L2DEyeBlink # calcNextBlink()\r\n//============================================================\r\nL2DEyeBlink.prototype.calcNextBlink   = function()\r\n{\r\n    var time /*long*/ = UtSystem.getUserTimeMSec();\r\n    var r /*Number*/ = Math.random();\r\n    return  /*(long)*/ (time + r * (2 * this.blinkIntervalMsec - 1));\r\n}\r\n\r\n//============================================================\r\n//    L2DEyeBlink # setInterval()\r\n//============================================================\r\nL2DEyeBlink.prototype.setInterval     = function(blinkIntervalMsec /*int*/)\r\n{\r\n    this.blinkIntervalMsec = blinkIntervalMsec;\r\n}\r\n\r\n//============================================================\r\n//    L2DEyeBlink # setEyeMotion()\r\n//============================================================\r\nL2DEyeBlink.prototype.setEyeMotion    = function(closingMotionMsec/*int*/ , closedMotionMsec/*int*/ , openingMotionMsec/*int*/)\r\n{\r\n    this.closingMotionMsec = closingMotionMsec;\r\n    this.closedMotionMsec = closedMotionMsec;\r\n    this.openingMotionMsec = openingMotionMsec;\r\n}\r\n\r\n//============================================================\r\n//    L2DEyeBlink # updateParam()\r\n//============================================================\r\nL2DEyeBlink.prototype.updateParam     = function(model/*ALive2DModel*/)\r\n{\r\n    var time /*:long*/ = UtSystem.getUserTimeMSec();\r\n    var eyeParamValue /*:Number*/;\r\n    var t /*:Number*/ = 0;\r\n    switch(this.eyeState){\r\n    case EYE_STATE.STATE_CLOSING:\r\n        t = (time - this.stateStartTime) / this.closingMotionMsec;\r\n        if(t >= 1) {\r\n            t = 1;\r\n            this.eyeState = EYE_STATE.STATE_CLOSED;\r\n            this.stateStartTime = time;\r\n        }\r\n        eyeParamValue = 1 - t;\r\n        break;\r\n    case EYE_STATE.STATE_CLOSED:\r\n        t = (time - this.stateStartTime) / this.closedMotionMsec;\r\n        if(t >= 1) {\r\n            this.eyeState = EYE_STATE.STATE_OPENING;\r\n            this.stateStartTime = time;\r\n        }\r\n        eyeParamValue = 0;\r\n        break;\r\n    case EYE_STATE.STATE_OPENING:\r\n        t = (time - this.stateStartTime) / this.openingMotionMsec;\r\n        if(t >= 1) {\r\n            t = 1;\r\n            this.eyeState = EYE_STATE.STATE_INTERVAL;\r\n            this.nextBlinkTime = this.calcNextBlink();\r\n        }\r\n        eyeParamValue = t;\r\n        break;\r\n    case EYE_STATE.STATE_INTERVAL:\r\n        if(this.nextBlinkTime < time) {\r\n            this.eyeState = EYE_STATE.STATE_CLOSING;\r\n            this.stateStartTime = time;\r\n        }\r\n        eyeParamValue = 1;\r\n        break;\r\n    case EYE_STATE.STATE_FIRST:\r\n    default:\r\n        this.eyeState = EYE_STATE.STATE_INTERVAL;\r\n        this.nextBlinkTime = this.calcNextBlink();\r\n        eyeParamValue = 1;\r\n        break;\r\n    }\r\n    if(!this.closeIfZero) eyeParamValue = -eyeParamValue;\r\n    model.setParamFloat(this.eyeID_L , eyeParamValue);\r\n    model.setParamFloat(this.eyeID_R , eyeParamValue);\r\n}\r\n\r\n//== enum EYE_STATE ==\r\nvar EYE_STATE = function(){};\r\n\r\nEYE_STATE.STATE_FIRST          = \"STATE_FIRST\"\r\nEYE_STATE.STATE_INTERVAL       = \"STATE_INTERVAL\"\r\nEYE_STATE.STATE_CLOSING        = \"STATE_CLOSING\"\r\nEYE_STATE.STATE_CLOSED         = \"STATE_CLOSED\"\r\nEYE_STATE.STATE_OPENING        = \"STATE_OPENING\"\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DMatrix44\r\n//============================================================\r\n//============================================================\r\nexport function L2DMatrix44()\r\n{\r\n    this.tr              = new Float32Array(16); //\r\n    this.identity();\r\n}\r\n\r\n//============================================================\r\n//    static L2DMatrix44.mul()\r\n//============================================================\r\nL2DMatrix44.mul             = function( a/*float[]*/, b/*float[]*/, dst/*float[]*/ )\r\n{\r\n    var c = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\r\n    var n = 4;\r\n    var i, j, k;\r\n    for( i = 0; i < n; i++ ) {\r\n        for( j = 0; j < n; j++ ) {\r\n            for( k = 0; k < n; k++ ) {\r\n                c[i + j * 4] += a[i + k * 4] * b[k + j * 4];\r\n            }\r\n        }\r\n    }\r\n    for( i = 0; i < 16; i++ ) {\r\n        dst[i] = c[i];\r\n    }\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # identity()\r\n//============================================================\r\nL2DMatrix44.prototype.identity        = function()\r\n{\r\n    for( var i/*:int*/ = 0; i < 16; i++ )\r\n        this.tr[i] = ( ( i % 5 ) == 0 ) ? 1 : 0;\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # getArray()\r\n//============================================================\r\nL2DMatrix44.prototype.getArray        = function()\r\n{\r\n    return this.tr;\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # getCopyMatrix()\r\n//============================================================\r\nL2DMatrix44.prototype.getCopyMatrix   = function()\r\n{\r\n    return new Float32Array(this.tr); // this.tr.clone();\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # setMatrix()\r\n//============================================================\r\nL2DMatrix44.prototype.setMatrix       = function( tr/*float[]*/ )\r\n{\r\n    if( this.tr == null || this.tr.length != this.tr.length ) return ;\r\n    for( var i/*:int*/ = 0; i < 16; i++ ) this.tr[i] = tr[i];\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # getScaleX()\r\n//============================================================\r\nL2DMatrix44.prototype.getScaleX       = function()\r\n{\r\n    return this.tr[0];\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # getScaleY()\r\n//============================================================\r\nL2DMatrix44.prototype.getScaleY       = function()\r\n{\r\n    return this.tr[5];\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # transformX()\r\n//============================================================\r\nL2DMatrix44.prototype.transformX      = function( src/*float*/ )\r\n{\r\n    return this.tr[0] * src + this.tr[12];\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # transformY()\r\n//============================================================\r\nL2DMatrix44.prototype.transformY      = function( src/*float*/ )\r\n{\r\n    return this.tr[5] * src + this.tr[13];\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # invertTransformX()\r\n//============================================================\r\nL2DMatrix44.prototype.invertTransformX = function( src/*float*/ )\r\n{\r\n    return ( src - this.tr[12] ) / this.tr[0];\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # invertTransformY()\r\n//============================================================\r\nL2DMatrix44.prototype.invertTransformY = function( src/*float*/ )\r\n{\r\n    return ( src - this.tr[13] ) / this.tr[5];\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # multTranslate()\r\n//============================================================\r\nL2DMatrix44.prototype.multTranslate   = function( shiftX/*float*/, shiftY/*float*/ )\r\n{\r\n    var tr1 = [ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, shiftX, shiftY, 0, 1 ];\r\n    L2DMatrix44.mul(tr1, this.tr, this.tr);\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # translate()\r\n//============================================================\r\nL2DMatrix44.prototype.translate       = function( x/*float*/, y/*float*/ )\r\n{\r\n    this.tr[12] = x;\r\n    this.tr[13] = y;\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # translateX()\r\n//============================================================\r\nL2DMatrix44.prototype.translateX      = function( x/*float*/ )\r\n{\r\n    this.tr[12] = x;\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # translateY()\r\n//============================================================\r\nL2DMatrix44.prototype.translateY      = function( y/*float*/ )\r\n{\r\n    this.tr[13] = y;\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # multScale()\r\n//============================================================\r\nL2DMatrix44.prototype.multScale       = function( scaleX/*float*/, scaleY/*float*/ )\r\n{\r\n    var tr1 = [scaleX, 0, 0, 0, 0, scaleY, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n    L2DMatrix44.mul(tr1, this.tr, this.tr);\r\n}\r\n\r\n//============================================================\r\n//    L2DMatrix44 # scale()\r\n//============================================================\r\nL2DMatrix44.prototype.scale           = function( scaleX/*float*/, scaleY/*float*/ )\r\n{\r\n    this.tr[0] = scaleX;\r\n    this.tr[5] = scaleY;\r\n}\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DModelMatrix       extends     L2DMatrix44\r\n//============================================================\r\n//============================================================\r\nexport function L2DModelMatrix(w/*float*/, h/*float*/){\r\n    L2DMatrix44.prototype.constructor.call(this);\r\n    this.width = w;\r\n    this.height = h;\r\n}\r\n\r\n//L2DModelMatrix extends L2DMatrix44\r\nL2DModelMatrix.prototype = new L2DMatrix44();\r\n\r\n//============================================================\r\n//    L2DModelMatrix # setPosition()\r\n//============================================================\r\nL2DModelMatrix.prototype.setPosition     = function(x/*float*/, y/*float*/)\r\n{\r\n    this.translate(x, y);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # setCenterPosition()\r\n//============================================================\r\nL2DModelMatrix.prototype.setCenterPosition = function(x/*float*/, y/*float*/)\r\n{\r\n    var w = this.width * this.getScaleX();\r\n    var h = this.height * this.getScaleY();\r\n    this.translate(x - w / 2, y - h / 2);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # top()\r\n//============================================================\r\nL2DModelMatrix.prototype.top             = function(y/*float*/)\r\n{\r\n    this.setY(y);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # bottom()\r\n//============================================================\r\nL2DModelMatrix.prototype.bottom          = function(y/*float*/)\r\n{\r\n    var h = this.height * this.getScaleY();\r\n    this.translateY(y - h);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # left()\r\n//============================================================\r\nL2DModelMatrix.prototype.left            = function(x/*float*/)\r\n{\r\n    this.setX(x);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # right()\r\n//============================================================\r\nL2DModelMatrix.prototype.right           = function(x/*float*/)\r\n{\r\n    var w = this.width * this.getScaleX();\r\n    this.translateX(x - w);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # centerX()\r\n//============================================================\r\nL2DModelMatrix.prototype.centerX         = function(x/*float*/)\r\n{\r\n    var w = this.width * this.getScaleX();\r\n    this.translateX(x - w / 2);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # centerY()\r\n//============================================================\r\nL2DModelMatrix.prototype.centerY         = function(y/*float*/)\r\n{\r\n    var h = this.height * this.getScaleY();\r\n    this.translateY(y - h / 2);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # setX()\r\n//============================================================\r\nL2DModelMatrix.prototype.setX            = function(x/*float*/)\r\n{\r\n    this.translateX(x);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # setY()\r\n//============================================================\r\nL2DModelMatrix.prototype.setY            = function(y/*float*/)\r\n{\r\n    this.translateY(y);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # setHeight()\r\n//============================================================\r\nL2DModelMatrix.prototype.setHeight       = function(h/*float*/)\r\n{\r\n    var scaleX = h / this.height;\r\n    var scaleY = -scaleX;\r\n    this.scale(scaleX, scaleY);\r\n}\r\n\r\n//============================================================\r\n//    L2DModelMatrix # setWidth()\r\n//============================================================\r\nL2DModelMatrix.prototype.setWidth        = function(w/*float*/)\r\n{\r\n    var scaleX = w / this.width;\r\n    var scaleY = -scaleX;\r\n    this.scale(scaleX, scaleY);\r\n}\r\n\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DMotionManager     extends     MotionQueueManager\r\n//============================================================\r\n//============================================================\r\nexport function L2DMotionManager()\r\n{\r\n    MotionQueueManager.prototype.constructor.call(this);\r\n    this.currentPriority = null;\r\n    this.reservePriority = null;\r\n\r\n    this.super = MotionQueueManager.prototype;\r\n}\r\n\r\n\r\nL2DMotionManager.prototype = new MotionQueueManager();\r\n\r\n//============================================================\r\n//    L2DMotionManager # getCurrentPriority()\r\n//============================================================\r\nL2DMotionManager.prototype.getCurrentPriority = function()\r\n{\r\n    return this.currentPriority;\r\n}\r\n\r\n//============================================================\r\n//    L2DMotionManager # getReservePriority()\r\n//============================================================\r\nL2DMotionManager.prototype.getReservePriority = function()\r\n{\r\n    return this.reservePriority;\r\n}\r\n\r\n//============================================================\r\n//    L2DMotionManager # reserveMotion()\r\n//============================================================\r\nL2DMotionManager.prototype.reserveMotion   = function(priority/*int*/)\r\n{\r\n    if(this.reservePriority >= priority) {\r\n        return false;\r\n    }\r\n    if(this.currentPriority >= priority) {\r\n        return false;\r\n    }\r\n\r\n    this.reservePriority = priority;\r\n\r\n    return true;\r\n}\r\n\r\n//============================================================\r\n//    L2DMotionManager # setReservePriority()\r\n//============================================================\r\nL2DMotionManager.prototype.setReservePriority = function(val/*int*/)\r\n{\r\n    this.reservePriority = val;\r\n}\r\n\r\n//============================================================\r\n//    L2DMotionManager # updateParam()\r\n//============================================================\r\nL2DMotionManager.prototype.updateParam     = function(model/*ALive2DModel*/)\r\n{\r\n    var updated = MotionQueueManager.prototype.updateParam.call(this, model);\r\n\r\n    if(this.isFinished()) {\r\n        this.currentPriority = 0;\r\n    }\r\n\r\n    return updated;\r\n}\r\n\r\n//============================================================\r\n//    L2DMotionManager # startMotionPrio()\r\n//============================================================\r\nL2DMotionManager.prototype.startMotionPrio = function(motion/*AMotion*/, priority/*int*/)\r\n{\r\n    if(priority == this.reservePriority) {\r\n        this.reservePriority = 0;\r\n    }\r\n    this.currentPriority = priority;\r\n    return this.startMotion(motion, false);\r\n}\r\n\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DPhysics\r\n//============================================================\r\n//============================================================\r\nexport function L2DPhysics()\r\n{\r\n    this.physicsList = new Array(); //ArrayList<PhysicsHair>\r\n    this.startTimeMSec = UtSystem.getUserTimeMSec();\r\n}\r\n\r\n//============================================================\r\n//    static L2DPhysics.load()\r\n//============================================================\r\nL2DPhysics.load            = function(json)\r\n{\r\n    var ret = new L2DPhysics(); //L2DPhysicsL2DPhysics\r\n    // var pm = Live2DFramework.getPlatformManager();\r\n   //  var json = jsonParseFromBytes(buf);\r\n    var params = json.physics_hair;\r\n    var paramNum = params.length;\r\n    for(var i = 0; i < paramNum; i++) {\r\n        var param = params[i]; //Value\r\n        var physics = new PhysicsHair(); //PhysicsHairPhysicsHair\r\n        var setup = param.setup; //Value\r\n        var length = parseFloat(setup.length);\r\n        var resist = parseFloat(setup.regist);\r\n        var mass = parseFloat(setup.mass);\r\n        physics.setup(length, resist, mass);\r\n        var srcList = param.src; //Value\r\n        var srcNum = srcList.length;\r\n        for(var j = 0; j < srcNum; j++) {\r\n            var src = srcList[j]; //Value\r\n            var id = src.id; //String\r\n            var type = PhysicsHair.Src.SRC_TO_X;\r\n            var typeStr = src.ptype; //String\r\n            if(typeStr === \"x\") {\r\n                type = PhysicsHair.Src.SRC_TO_X;\r\n            }\r\n            else if(typeStr === \"y\") {\r\n                type = PhysicsHair.Src.SRC_TO_Y;\r\n            }\r\n            else if(typeStr === \"angle\") {\r\n                type = PhysicsHair.Src.SRC_TO_G_ANGLE;\r\n            }\r\n            else {\r\n                UtDebug.error(\"live2d\", \"Invalid parameter:PhysicsHair.Src\");\r\n            }\r\n            var scale = parseFloat(src.scale);\r\n            var weight = parseFloat(src.weight);\r\n            physics.addSrcParam(type, id, scale, weight);\r\n        }\r\n        var targetList = param.targets; //Value\r\n        var targetNum = targetList.length;\r\n        for(var j = 0; j < targetNum; j++) {\r\n            var target = targetList[j]; //Value\r\n            var id = target.id; //String\r\n            var type = PhysicsHair.Target.TARGET_FROM_ANGLE;\r\n            var typeStr = target.ptype; //String\r\n            if(typeStr === \"angle\") {\r\n                type = PhysicsHair.Target.TARGET_FROM_ANGLE;\r\n            }\r\n            else if(typeStr === \"angle_v\") {\r\n                type = PhysicsHair.Target.TARGET_FROM_ANGLE_V;\r\n            }\r\n            else {\r\n                UtDebug.error(\"live2d\", \"Invalid parameter:PhysicsHair.Target\");\r\n            }\r\n            var scale = parseFloat(target.scale);\r\n            var weight = parseFloat(target.weight);\r\n            physics.addTargetParam(type, id, scale, weight);\r\n        }\r\n        ret.physicsList.push(physics);\r\n    }\r\n    return ret;\r\n}\r\n\r\n//============================================================\r\n//    L2DPhysics # updateParam()\r\n//============================================================\r\nL2DPhysics.prototype.updateParam     = function(model/*ALive2DModel*/)\r\n{\r\n    var timeMSec = UtSystem.getUserTimeMSec() - this.startTimeMSec;\r\n    for(var i = 0; i < this.physicsList.length; i++) {\r\n        this.physicsList[i].update(model, timeMSec);\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DPose\r\n//============================================================\r\n//============================================================\r\nexport function L2DPose()\r\n{\r\n    this.lastTime        = 0;\r\n    this.lastModel       = null; //ALive2DModel\r\n    this.partsGroups = new Array(); //ArrayList<L2DPartsParam[]>\r\n}\r\n\r\n\r\n//============================================================\r\n//    static L2DPose.load()\r\n//============================================================\r\nL2DPose.load            = function(json)\r\n{\r\n    var ret = new L2DPose(); //L2DPose\r\n    // var pm = Live2DFramework.getPlatformManager();\r\n   //  var json = jsonParseFromBytes(buf);\r\n    var poseListInfo = json.parts_visible; //Value\r\n    var poseNum = poseListInfo.length;\r\n    for(var i_pose = 0; i_pose < poseNum; i_pose++) {\r\n        var poseInfo = poseListInfo[i_pose]; //Value\r\n        var idListInfo = poseInfo.group; //Value\r\n        var idNum = idListInfo.length;\r\n        var partsGroup/*L2DPartsParam*/ = new Array();\r\n        for(var i_group = 0; i_group < idNum; i_group++) {\r\n            var partsInfo = idListInfo[i_group]; //Value\r\n            var parts = new L2DPartsParam(partsInfo.id); //L2DPartsParamL2DPartsParam\r\n            partsGroup[i_group] = parts;\r\n            if(partsInfo.link == null) continue;\r\n            var linkListInfo = partsInfo.link; //Value\r\n            var linkNum = linkListInfo.length;\r\n            parts.link = new Array(); //ArrayList<L2DPartsParam>\r\n            for(var i_link = 0; i_link < linkNum; i_link++) {\r\n                var linkParts = new L2DPartsParam(linkListInfo[i_link]); //L2DPartsParamL2DPartsParam\r\n                parts.link.push(linkParts);\r\n            }\r\n        }\r\n        ret.partsGroups.push(partsGroup);\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\n//============================================================\r\n//    L2DPose # updateParam()\r\n//============================================================\r\nL2DPose.prototype.updateParam     = function(model/*ALive2DModel*/)\r\n{\r\n    if(model == null) return ;\r\n\r\n    if(!(model == this.lastModel)) {\r\n        this.initParam(model);\r\n    }\r\n    this.lastModel = model;\r\n\r\n    var curTime = UtSystem.getUserTimeMSec();\r\n    var deltaTimeSec = ((this.lastTime == 0) ? 0 : (curTime - this.lastTime) / 1000.0);\r\n    this.lastTime = curTime;\r\n    if(deltaTimeSec < 0) deltaTimeSec = 0;\r\n    for(var i = 0; i < this.partsGroups.length; i++) {\r\n        this.normalizePartsOpacityGroup(model, this.partsGroups[i], deltaTimeSec);\r\n        this.copyOpacityOtherParts(model, this.partsGroups[i]);\r\n    }\r\n}\r\n\r\n//============================================================\r\n//    L2DPose # initParam()\r\n//============================================================\r\nL2DPose.prototype.initParam       = function(model/*ALive2DModel*/)\r\n{\r\n    if(model == null) return ;\r\n    for(var i = 0; i < this.partsGroups.length; i++) {\r\n        var partsGroup = this.partsGroups[i]; //L2DPartsParam\r\n        for(var j = 0; j < partsGroup.length; j++) {\r\n            partsGroup[j].initIndex(model);\r\n            var partsIndex = partsGroup[j].partsIndex;\r\n            var paramIndex = partsGroup[j].paramIndex;\r\n            if(partsIndex < 0) continue;\r\n            var v/*:Boolean*/ = (model.getParamFloat(paramIndex) != 0);\r\n            model.setPartsOpacity(partsIndex, (v ? 1.0 : 0.0));\r\n            model.setParamFloat(paramIndex, (v ? 1.0 : 0.0));\r\n            if(partsGroup[j].link == null) continue;\r\n            for(var k = 0; k < partsGroup[j].link.length; k++) {\r\n                partsGroup[j].link[k].initIndex(model);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//============================================================\r\n//    L2DPose # normalizePartsOpacityGroup()\r\n//============================================================\r\nL2DPose.prototype.normalizePartsOpacityGroup = function(model/*ALive2DModel*/, partsGroup/*L2DPartsParam[]*/, deltaTimeSec/*float*/)\r\n{\r\n    var visibleParts = -1;\r\n    var visibleOpacity = 1.0;\r\n    var CLEAR_TIME_SEC = 0.5;\r\n    var phi = 0.5;\r\n    var maxBackOpacity = 0.15;\r\n    for(var i = 0; i < partsGroup.length; i++) {\r\n        var partsIndex = partsGroup[i].partsIndex;\r\n        var paramIndex = partsGroup[i].paramIndex;\r\n        if(partsIndex < 0) continue;if(model.getParamFloat(paramIndex) != 0) {\r\n            if(visibleParts >= 0) {\r\n                break;\r\n            }\r\n            visibleParts = i;\r\n            visibleOpacity = model.getPartsOpacity(partsIndex);\r\n            visibleOpacity += deltaTimeSec / CLEAR_TIME_SEC;\r\n            if(visibleOpacity > 1) {\r\n                visibleOpacity = 1;\r\n            }\r\n        }\r\n    }\r\n    if(visibleParts < 0) {\r\n        visibleParts = 0;\r\n        visibleOpacity = 1;\r\n    }\r\n    for(var i = 0; i < partsGroup.length; i++) {\r\n        var partsIndex = partsGroup[i].partsIndex;\r\n        if(partsIndex < 0) continue;if(visibleParts == i) {\r\n            model.setPartsOpacity(partsIndex, visibleOpacity);\r\n        }\r\n        else {\r\n            var opacity = model.getPartsOpacity(partsIndex);\r\n            var a1;\r\n            if(visibleOpacity < phi) {\r\n                a1 = visibleOpacity * (phi - 1) / phi + 1;\r\n            }\r\n            else {\r\n                a1 = (1 - visibleOpacity) * phi / (1 - phi);\r\n            }\r\n            var backOp = (1 - a1) * (1 - visibleOpacity);\r\n            if(backOp > maxBackOpacity) {\r\n                a1 = 1 - maxBackOpacity / (1 - visibleOpacity);\r\n            }\r\n            if(opacity > a1) {\r\n                opacity = a1;\r\n            }\r\n            model.setPartsOpacity(partsIndex, opacity);\r\n        }\r\n    }\r\n}\r\n\r\n//============================================================\r\n//    L2DPose # copyOpacityOtherParts()\r\n//============================================================\r\nL2DPose.prototype.copyOpacityOtherParts = function(model/*ALive2DModel*/, partsGroup/*L2DPartsParam[]*/)\r\n{\r\n    for(var i_group = 0; i_group < partsGroup.length; i_group++) {\r\n        var partsParam = partsGroup[i_group]; //L2DPartsParam\r\n        if(partsParam.link == null) continue;\r\n        if(partsParam.partsIndex < 0) continue;\r\n        var opacity = model.getPartsOpacity(partsParam.partsIndex);\r\n        for(var i_link = 0; i_link < partsParam.link.length; i_link++) {\r\n            var linkParts = partsParam.link[i_link]; //L2DPartsParam\r\n            if(linkParts.partsIndex < 0) continue;\r\n            model.setPartsOpacity(linkParts.partsIndex, opacity);\r\n        }\r\n    }\r\n}\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DPartsParam\r\n//============================================================\r\n//============================================================\r\nexport function L2DPartsParam(id/*String*/){\r\n    this.paramIndex      = -1;\r\n    this.partsIndex      = -1;\r\n    this.link            = null; // ArrayList<L2DPartsParam>\r\n    this.id = id;\r\n}\r\n\r\n//============================================================\r\n//    L2DPartsParam # initIndex()\r\n//============================================================\r\nL2DPartsParam.prototype.initIndex       = function(model/*ALive2DModel*/)\r\n{\r\n    this.paramIndex = model.getParamIndex(\"VISIBLE:\" + this.id);\r\n    this.partsIndex = model.getPartsDataIndex(PartsDataID.getID(this.id));\r\n    model.setParamFloat(this.paramIndex, 1);\r\n}\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DTargetPoint\r\n//============================================================\r\n//============================================================\r\nexport function L2DTargetPoint()\r\n{\r\n    this.EPSILON         = 0.01; // \r\n    this.faceTargetX     = 0;\r\n    this.faceTargetY     = 0;\r\n    this.faceX           = 0;\r\n    this.faceY           = 0;\r\n    this.faceVX          = 0;\r\n    this.faceVY          = 0;\r\n    this.lastTimeSec     = 0;\r\n}\r\n\r\n//============================================================\r\nL2DTargetPoint.FRAME_RATE  = 30;\r\n\r\n//============================================================\r\n//    L2DTargetPoint # set()\r\n//============================================================\r\nL2DTargetPoint.prototype.setPoint = function(x/*float*/, y/*float*/)\r\n{\r\n    this.faceTargetX = x;\r\n    this.faceTargetY = y;\r\n}\r\n\r\n//============================================================\r\n//    L2DTargetPoint # getX()\r\n//============================================================\r\nL2DTargetPoint.prototype.getX            = function()\r\n{\r\n    return this.faceX;\r\n}\r\n\r\n//============================================================\r\n//    L2DTargetPoint # getY()\r\n//============================================================\r\nL2DTargetPoint.prototype.getY            = function()\r\n{\r\n    return this.faceY;\r\n}\r\n\r\n//============================================================\r\n//    L2DTargetPoint # update()\r\n//============================================================\r\nL2DTargetPoint.prototype.update          = function()\r\n{\r\n   var TIME_TO_MAX_SPEED = 0.15;\r\n   var FACE_PARAM_MAX_V = 40.0 / 7.5;\r\n   var MAX_V = FACE_PARAM_MAX_V / L2DTargetPoint.FRAME_RATE;\r\n    if(this.lastTimeSec == 0) {\r\n        this.lastTimeSec = UtSystem.getUserTimeMSec();\r\n        return;\r\n    }\r\n    var curTimeSec = UtSystem.getUserTimeMSec();\r\n    var deltaTimeWeight = (curTimeSec - this.lastTimeSec) * L2DTargetPoint.FRAME_RATE / 1000.0;\r\n    this.lastTimeSec = curTimeSec;\r\n   var FRAME_TO_MAX_SPEED = TIME_TO_MAX_SPEED * L2DTargetPoint.FRAME_RATE;\r\n   var MAX_A = deltaTimeWeight * MAX_V / FRAME_TO_MAX_SPEED;\r\n    var dx = (this.faceTargetX - this.faceX);\r\n    var dy = (this.faceTargetY - this.faceY);\r\n    // if(dx == 0 && dy == 0) return;\r\n    if( Math.abs(dx) <= this.EPSILON && Math.abs(dy) <= this.EPSILON ) return;\r\n    var d = Math.sqrt(dx * dx + dy * dy);\r\n    var vx = MAX_V * dx / d;\r\n    var vy = MAX_V * dy / d;\r\n    var ax = vx - this.faceVX;\r\n    var ay = vy - this.faceVY;\r\n    var a =  Math.sqrt(ax * ax + ay * ay);\r\n    if(a < -MAX_A || a > MAX_A) {\r\n        ax *= MAX_A / a;\r\n        ay *= MAX_A / a;\r\n        a = MAX_A;\r\n    }\r\n    this.faceVX += ax;\r\n    this.faceVY += ay;\r\n    {\r\n        var max_v = 0.5 * ( Math.sqrt(MAX_A * MAX_A + 16 * MAX_A * d - 8 * MAX_A * d) - MAX_A);\r\n        var cur_v =  Math.sqrt(this.faceVX * this.faceVX + this.faceVY * this.faceVY);\r\n        if(cur_v > max_v) {\r\n            this.faceVX *= max_v / cur_v;\r\n            this.faceVY *= max_v / cur_v;\r\n        }\r\n    }\r\n    this.faceX += this.faceVX;\r\n    this.faceY += this.faceVY;\r\n}\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class L2DViewMatrix        extends     L2DMatrix44\r\n//============================================================\r\n//============================================================\r\nexport function L2DViewMatrix()\r\n{\r\n    L2DMatrix44.prototype.constructor.call(this);\r\n    this.screenLeft      = null;\r\n    this.screenRight     = null;\r\n    this.screenTop       = null;\r\n    this.screenBottom    = null;\r\n    this.maxLeft         = null;\r\n    this.maxRight        = null;\r\n    this.maxTop          = null;\r\n    this.maxBottom       = null;\r\n    this.max = Number.MAX_VALUE;\r\n    this.min = 0;\r\n}\r\n\r\nL2DViewMatrix.prototype = new L2DMatrix44(); //L2DViewMatrix extends L2DMatrix44\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getMaxScale()\r\n//============================================================\r\nL2DViewMatrix.prototype.getMaxScale     = function()\r\n{\r\n    return this.max;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getMinScale()\r\n//============================================================\r\nL2DViewMatrix.prototype.getMinScale     = function()\r\n{\r\n    return this.min;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # setMaxScale()\r\n//============================================================\r\nL2DViewMatrix.prototype.setMaxScale     = function(v/*float*/)\r\n{\r\n    this.max = v;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # setMinScale()\r\n//============================================================\r\nL2DViewMatrix.prototype.setMinScale     = function(v/*float*/)\r\n{\r\n    this.min = v;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # isMaxScale()\r\n//============================================================\r\nL2DViewMatrix.prototype.isMaxScale      = function()\r\n{\r\n    return this.getScaleX() == this.max;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # isMinScale()\r\n//============================================================\r\nL2DViewMatrix.prototype.isMinScale      = function()\r\n{\r\n    return this.getScaleX() == this.min;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # adjustTranslate()\r\n//============================================================\r\nL2DViewMatrix.prototype.adjustTranslate = function(shiftX/*float*/, shiftY/*float*/)\r\n{\r\n   // comment them, for don't know their function\r\n   //\r\n   //  if(this.tr[0] * this.maxLeft + (this.tr[12] + shiftX) > this.screenLeft)\r\n   //      shiftX = this.screenLeft - this.tr[0] * this.maxLeft - this.tr[12];\r\n   //  if(this.tr[0] * this.maxRight + (this.tr[12] + shiftX) < this.screenRight)\r\n   //      shiftX = this.screenRight - this.tr[0] * this.maxRight - this.tr[12];\r\n   //  if(this.tr[5] * this.maxTop + (this.tr[13] + shiftY) < this.screenTop)\r\n   //      shiftY = this.screenTop - this.tr[5] * this.maxTop - this.tr[13];\r\n   //  if(this.tr[5] * this.maxBottom + (this.tr[13] + shiftY) > this.screenBottom)\r\n   //      shiftY = this.screenBottom - this.tr[5] * this.maxBottom - this.tr[13];\r\n\r\n    var tr1 = [1, 0, 0, 0,\r\n               0, 1, 0, 0,\r\n               0, 0, 1, 0,\r\n               shiftX, shiftY, 0, 1 ];\r\n    L2DMatrix44.mul(tr1, this.tr, this.tr);\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # adjustScale()\r\n//============================================================\r\nL2DViewMatrix.prototype.adjustScale     = function(cx/*float*/, cy/*float*/, scaleX/*float*/, scaleY)\r\n{\r\n    if (!scaleY) {\r\n        scaleY = scaleX;\r\n    }\r\n   //  var targetScaleX = scaleX * this.tr[0];\r\n   //  if(targetScaleX < this.min) {\r\n   //      if(this.tr[0] > 0) scaleX = this.min / this.tr[0];\r\n   //  }\r\n   //  else if(targetScaleX > this.max) {\r\n   //      if(this.tr[0] > 0) scaleX = this.max / this.tr[0];\r\n   //  }\r\n   //  var targetScaleY = scaleY * this.tr[0];\r\n   //  if(targetScaleY < this.min) {\r\n   //      if(this.tr[0] > 0) scaleY = this.min / this.tr[0];\r\n   //  }\r\n   //  else if(targetScaleY > this.max) {\r\n   //      if(this.tr[0] > 0) scaleY = this.max / this.tr[0];\r\n   //  }\r\n    var tr1 = [1, 0, 0, 0,\r\n               0, 1, 0, 0,\r\n               0, 0, 1, 0,\r\n               cx, cy, 0, 1];\r\n    var tr2 = [scaleX, 0, 0, 0,\r\n               0, scaleY, 0, 0,\r\n               0, 0, 1, 0,\r\n               0, 0, 0, 1 ];\r\n    var tr3 = [1, 0, 0, 0,\r\n               0, 1, 0, 0,\r\n               0, 0, 1, 0,\r\n               -cx, -cy, 0, 1 ];\r\n    L2DMatrix44.mul(tr3, this.tr, this.tr);\r\n    L2DMatrix44.mul(tr2, this.tr, this.tr);\r\n    L2DMatrix44.mul(tr1, this.tr, this.tr);\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # setScreenRect()\r\n//============================================================\r\nL2DViewMatrix.prototype.setScreenRect   = function(left/*float*/, right/*float*/, bottom/*float*/, top/*float*/)\r\n{\r\n    this.screenLeft = left;\r\n    this.screenRight = right;\r\n    this.screenTop = top;\r\n    this.screenBottom = bottom;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # setMaxScreenRect()\r\n//============================================================\r\nL2DViewMatrix.prototype.setMaxScreenRect = function(left/*float*/, right/*float*/, bottom/*float*/, top/*float*/)\r\n{\r\n    this.maxLeft = left;\r\n    this.maxRight = right;\r\n    this.maxTop = top;\r\n    this.maxBottom = bottom;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getScreenLeft()\r\n//============================================================\r\nL2DViewMatrix.prototype.getScreenLeft   = function()\r\n{\r\n    return this.screenLeft;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getScreenRight()\r\n//============================================================\r\nL2DViewMatrix.prototype.getScreenRight  = function()\r\n{\r\n    return this.screenRight;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getScreenBottom()\r\n//============================================================\r\nL2DViewMatrix.prototype.getScreenBottom = function()\r\n{\r\n    return this.screenBottom;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getScreenTop()\r\n//============================================================\r\nL2DViewMatrix.prototype.getScreenTop    = function()\r\n{\r\n    return this.screenTop;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getMaxLeft()\r\n//============================================================\r\nL2DViewMatrix.prototype.getMaxLeft      = function()\r\n{\r\n    return this.maxLeft;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getMaxRight()\r\n//============================================================\r\nL2DViewMatrix.prototype.getMaxRight     = function()\r\n{\r\n    return this.maxRight;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getMaxBottom()\r\n//============================================================\r\nL2DViewMatrix.prototype.getMaxBottom    = function()\r\n{\r\n    return this.maxBottom;\r\n}\r\n\r\n//============================================================\r\n//    L2DViewMatrix # getMaxTop()\r\n//============================================================\r\nL2DViewMatrix.prototype.getMaxTop       = function()\r\n{\r\n    return this.maxTop;\r\n}\r\n\r\n/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n */\r\n\r\n//============================================================\r\n//============================================================\r\n//  class Live2DFramework\r\n//============================================================\r\n//============================================================\r\n// export function Live2DFramework()\r\n// {\r\n// }\r\n//\r\n// //============================================================\r\n// Live2DFramework.platformManager  = null;\r\n//\r\n// //============================================================\r\n// //    static Live2DFramework.getPlatformManager()\r\n// //============================================================\r\n// Live2DFramework.getPlatformManager = function()\r\n// {\r\n//     return Live2DFramework.platformManager;\r\n// }\r\n//\r\n// //============================================================\r\n// //    static Live2DFramework.setPlatformManager()\r\n// //============================================================\r\n// Live2DFramework.setPlatformManager = function( platformManager /*IPlatformManager*/ )\r\n// {\r\n//     Live2DFramework.platformManager = platformManager;\r\n// }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Live2DFramework.js","import { Live2DModelWebGL } from '../../src/lib/live2d';\n\nexport function loadBytes(path, type, callback) {\n  var request = new XMLHttpRequest();\n  request.open('GET',path, true);\n  request.responseType = type;\n  request.onload = () => {\n    switch (request.status) {\n    case 200:\n        callback(request.response);\n        break;\n    default:\n        console.error( 'Failed to load (' + request.status + ') : ' + path );\n        break;\n    }\n  }\n  request.send(null);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/netUtils.js","/**\r\n *\r\n *  You can modify and use this source freely\r\n *  only for the development of application related Live2D.\r\n *\r\n *  (c) Live2D Inc. All rights reserved.\r\n *  (c) Modified by Icemic <bingfeng.web@gmail.com>\r\n */\r\n\r\nconst mat4 = require('./glMatrix-mat4');\r\n\r\nconst MatrixStack = {};\r\n\r\nexport default MatrixStack;\r\n\r\n\r\nMatrixStack.matrixStack = [\r\n    1, 0, 0, 0,\r\n    0, 1, 0, 0,\r\n    0, 0, 1, 0,\r\n    0, 0, 0, 1\r\n];\r\n\r\n\r\nMatrixStack.depth = 0;\r\n\r\n\r\nMatrixStack.currentMatrix = [\r\n    1, 0, 0, 0,\r\n    0, 1, 0, 0,\r\n    0, 0, 1, 0,\r\n    0, 0, 0, 1\r\n];\r\n\r\n\r\nMatrixStack.tmp = new Array(16);\r\n\r\n\r\n\r\nMatrixStack.reset = function()\r\n{\r\n    this.depth = 0;\r\n}\r\n\r\n\r\n\r\nMatrixStack.loadIdentity = function()\r\n{\r\n    // for (var i = 0; i < 16; i++)\r\n    // {\r\n    //     this.currentMatrix[i] = (i % 5 == 0) ? 1 : 0;\r\n    // }\r\n    this.currentMatrix = [\r\n        1, 0, 0, 0,\r\n        0, 1, 0, 0,\r\n        0, 0, 1, 0,\r\n        0, 0, 0, 1\r\n    ];\r\n}\r\n\r\n\r\n\r\nMatrixStack.push = function()\r\n{\r\n    // var offset = this.depth * 16;\r\n    // var nextOffset = (this.depth + 1) * 16;\r\n\r\n    // if (this.matrixStack.length < nextOffset + 16)\r\n    // {\r\n    //     this.matrixStack.length = nextOffset + 16;\r\n    // }\r\n\r\n    // for (var i = 0; i < 16; i++)\r\n    // {\r\n    //     this.matrixStack[nextOffset + i] = this.currentMatrix[i];\r\n    // }\r\n    this.matrixStack.push(this.currentMatrix);\r\n\r\n    this.depth++;\r\n}\r\n\r\n\r\n\r\nMatrixStack.pop = function()\r\n{\r\n    this.depth--;\r\n    if (this.depth < 0)\r\n    {\r\n        myError(\"Invalid matrix stack.\");\r\n        this.depth = 0;\r\n    }\r\n\r\n    // var offset = this.depth * 16;\r\n    // for (var i = 0; i < 16; i++)\r\n    // {\r\n    //     this.currentMatrix[i] = this.matrixStack[offset + i];\r\n    // }\r\n    this.currentMatrix = this.matrixStack.pop();\r\n}\r\n\r\n\r\n\r\nMatrixStack.getMatrix = function()\r\n{\r\n    return this.currentMatrix;\r\n}\r\n\r\n\r\n\r\nMatrixStack.multMatrix = function(matNew)\r\n{\r\n    // var i, j, k;\r\n\r\n    // for (i = 0; i < 16; i++)\r\n    // {\r\n    //     this.tmp[i] = 0;\r\n    // }\r\n\r\n    // for (i = 0; i < 4; i++)\r\n    // {\r\n    //     for (j = 0; j < 4; j++)\r\n    //     {\r\n    //         for (k = 0; k < 4; k++)\r\n    //         {\r\n    //             this.tmp[i + j * 4] += this.currentMatrix[i + k * 4] * matNew[k + j * 4];\r\n    //         }\r\n    //     }\r\n    // }\r\n    // for (i = 0; i < 16; i++)\r\n    // {\r\n    //     this.currentMatrix[i] = this.tmp[i];\r\n    // }\r\n    mat4.multiply(this.currentMatrix, this.currentMatrix, matNew);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/MatrixStack.js","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\nvar glMatrix = require(\"./glMatrix-common.js\");\n\n/**\n * @class 4x4 Matrix\n * @name mat4\n */\nvar mat4 = {\n  scalar: {},\n  SIMD: {}\n};\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nmat4.create = function() {\n    var out = new glMatrix.ARRAY_TYPE(16);\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {mat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\nmat4.clone = function(a) {\n    var out = new glMatrix.ARRAY_TYPE(16);\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.copy = function(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\nmat4.fromValues = function(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    var out = new glMatrix.ARRAY_TYPE(16);\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m03;\n    out[4] = m10;\n    out[5] = m11;\n    out[6] = m12;\n    out[7] = m13;\n    out[8] = m20;\n    out[9] = m21;\n    out[10] = m22;\n    out[11] = m23;\n    out[12] = m30;\n    out[13] = m31;\n    out[14] = m32;\n    out[15] = m33;\n    return out;\n};\n\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\nmat4.set = function(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m03;\n    out[4] = m10;\n    out[5] = m11;\n    out[6] = m12;\n    out[7] = m13;\n    out[8] = m20;\n    out[9] = m21;\n    out[10] = m22;\n    out[11] = m23;\n    out[12] = m30;\n    out[13] = m31;\n    out[14] = m32;\n    out[15] = m33;\n    return out;\n};\n\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nmat4.identity = function(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Transpose the values of a mat4 not using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.scalar.transpose = function(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        var a01 = a[1], a02 = a[2], a03 = a[3],\n            a12 = a[6], a13 = a[7],\n            a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n\n    return out;\n};\n\n/**\n * Transpose the values of a mat4 using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.SIMD.transpose = function(out, a) {\n    var a0, a1, a2, a3,\n        tmp01, tmp23,\n        out0, out1, out2, out3;\n\n    a0 = SIMD.Float32x4.load(a, 0);\n    a1 = SIMD.Float32x4.load(a, 4);\n    a2 = SIMD.Float32x4.load(a, 8);\n    a3 = SIMD.Float32x4.load(a, 12);\n\n    tmp01 = SIMD.Float32x4.shuffle(a0, a1, 0, 1, 4, 5);\n    tmp23 = SIMD.Float32x4.shuffle(a2, a3, 0, 1, 4, 5);\n    out0  = SIMD.Float32x4.shuffle(tmp01, tmp23, 0, 2, 4, 6);\n    out1  = SIMD.Float32x4.shuffle(tmp01, tmp23, 1, 3, 5, 7);\n    SIMD.Float32x4.store(out, 0,  out0);\n    SIMD.Float32x4.store(out, 4,  out1);\n\n    tmp01 = SIMD.Float32x4.shuffle(a0, a1, 2, 3, 6, 7);\n    tmp23 = SIMD.Float32x4.shuffle(a2, a3, 2, 3, 6, 7);\n    out2  = SIMD.Float32x4.shuffle(tmp01, tmp23, 0, 2, 4, 6);\n    out3  = SIMD.Float32x4.shuffle(tmp01, tmp23, 1, 3, 5, 7);\n    SIMD.Float32x4.store(out, 8,  out2);\n    SIMD.Float32x4.store(out, 12, out3);\n\n    return out;\n};\n\n/**\n * Transpse a mat4 using SIMD if available and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.transpose = glMatrix.USE_SIMD ? mat4.SIMD.transpose : mat4.scalar.transpose;\n\n/**\n * Inverts a mat4 not using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.scalar.invert = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n\n        // Calculate the determinant\n        det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n};\n\n/**\n * Inverts a mat4 using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.SIMD.invert = function(out, a) {\n  var row0, row1, row2, row3,\n      tmp1,\n      minor0, minor1, minor2, minor3,\n      det,\n      a0 = SIMD.Float32x4.load(a, 0),\n      a1 = SIMD.Float32x4.load(a, 4),\n      a2 = SIMD.Float32x4.load(a, 8),\n      a3 = SIMD.Float32x4.load(a, 12);\n\n  // Compute matrix adjugate\n  tmp1 = SIMD.Float32x4.shuffle(a0, a1, 0, 1, 4, 5);\n  row1 = SIMD.Float32x4.shuffle(a2, a3, 0, 1, 4, 5);\n  row0 = SIMD.Float32x4.shuffle(tmp1, row1, 0, 2, 4, 6);\n  row1 = SIMD.Float32x4.shuffle(row1, tmp1, 1, 3, 5, 7);\n  tmp1 = SIMD.Float32x4.shuffle(a0, a1, 2, 3, 6, 7);\n  row3 = SIMD.Float32x4.shuffle(a2, a3, 2, 3, 6, 7);\n  row2 = SIMD.Float32x4.shuffle(tmp1, row3, 0, 2, 4, 6);\n  row3 = SIMD.Float32x4.shuffle(row3, tmp1, 1, 3, 5, 7);\n\n  tmp1   = SIMD.Float32x4.mul(row2, row3);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor0 = SIMD.Float32x4.mul(row1, tmp1);\n  minor1 = SIMD.Float32x4.mul(row0, tmp1);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor0 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row1, tmp1), minor0);\n  minor1 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0, tmp1), minor1);\n  minor1 = SIMD.Float32x4.swizzle(minor1, 2, 3, 0, 1);\n\n  tmp1   = SIMD.Float32x4.mul(row1, row2);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor0 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row3, tmp1), minor0);\n  minor3 = SIMD.Float32x4.mul(row0, tmp1);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor0 = SIMD.Float32x4.sub(minor0, SIMD.Float32x4.mul(row3, tmp1));\n  minor3 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0, tmp1), minor3);\n  minor3 = SIMD.Float32x4.swizzle(minor3, 2, 3, 0, 1);\n\n  tmp1   = SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(row1, 2, 3, 0, 1), row3);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  row2   = SIMD.Float32x4.swizzle(row2, 2, 3, 0, 1);\n  minor0 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row2, tmp1), minor0);\n  minor2 = SIMD.Float32x4.mul(row0, tmp1);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor0 = SIMD.Float32x4.sub(minor0, SIMD.Float32x4.mul(row2, tmp1));\n  minor2 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0, tmp1), minor2);\n  minor2 = SIMD.Float32x4.swizzle(minor2, 2, 3, 0, 1);\n\n  tmp1   = SIMD.Float32x4.mul(row0, row1);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor2 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row3, tmp1), minor2);\n  minor3 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row2, tmp1), minor3);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor2 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row3, tmp1), minor2);\n  minor3 = SIMD.Float32x4.sub(minor3, SIMD.Float32x4.mul(row2, tmp1));\n\n  tmp1   = SIMD.Float32x4.mul(row0, row3);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor1 = SIMD.Float32x4.sub(minor1, SIMD.Float32x4.mul(row2, tmp1));\n  minor2 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row1, tmp1), minor2);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor1 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row2, tmp1), minor1);\n  minor2 = SIMD.Float32x4.sub(minor2, SIMD.Float32x4.mul(row1, tmp1));\n\n  tmp1   = SIMD.Float32x4.mul(row0, row2);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor1 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row3, tmp1), minor1);\n  minor3 = SIMD.Float32x4.sub(minor3, SIMD.Float32x4.mul(row1, tmp1));\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor1 = SIMD.Float32x4.sub(minor1, SIMD.Float32x4.mul(row3, tmp1));\n  minor3 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row1, tmp1), minor3);\n\n  // Compute matrix determinant\n  det   = SIMD.Float32x4.mul(row0, minor0);\n  det   = SIMD.Float32x4.add(SIMD.Float32x4.swizzle(det, 2, 3, 0, 1), det);\n  det   = SIMD.Float32x4.add(SIMD.Float32x4.swizzle(det, 1, 0, 3, 2), det);\n  tmp1  = SIMD.Float32x4.reciprocalApproximation(det);\n  det   = SIMD.Float32x4.sub(\n               SIMD.Float32x4.add(tmp1, tmp1),\n               SIMD.Float32x4.mul(det, SIMD.Float32x4.mul(tmp1, tmp1)));\n  det   = SIMD.Float32x4.swizzle(det, 0, 0, 0, 0);\n  if (!det) {\n      return null;\n  }\n\n  // Compute matrix inverse\n  SIMD.Float32x4.store(out, 0,  SIMD.Float32x4.mul(det, minor0));\n  SIMD.Float32x4.store(out, 4,  SIMD.Float32x4.mul(det, minor1));\n  SIMD.Float32x4.store(out, 8,  SIMD.Float32x4.mul(det, minor2));\n  SIMD.Float32x4.store(out, 12, SIMD.Float32x4.mul(det, minor3));\n  return out;\n}\n\n/**\n * Inverts a mat4 using SIMD if available and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.invert = glMatrix.USE_SIMD ? mat4.SIMD.invert : mat4.scalar.invert;\n\n/**\n * Calculates the adjugate of a mat4 not using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.scalar.adjoint = function(out, a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    out[0]  =  (a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22));\n    out[1]  = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n    out[2]  =  (a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12));\n    out[3]  = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n    out[4]  = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n    out[5]  =  (a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22));\n    out[6]  = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n    out[7]  =  (a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12));\n    out[8]  =  (a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21));\n    out[9]  = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n    out[10] =  (a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11));\n    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n    out[13] =  (a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21));\n    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n    out[15] =  (a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11));\n    return out;\n};\n\n/**\n * Calculates the adjugate of a mat4 using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nmat4.SIMD.adjoint = function(out, a) {\n  var a0, a1, a2, a3;\n  var row0, row1, row2, row3;\n  var tmp1;\n  var minor0, minor1, minor2, minor3;\n\n  a0 = SIMD.Float32x4.load(a, 0);\n  a1 = SIMD.Float32x4.load(a, 4);\n  a2 = SIMD.Float32x4.load(a, 8);\n  a3 = SIMD.Float32x4.load(a, 12);\n\n  // Transpose the source matrix.  Sort of.  Not a true transpose operation\n  tmp1 = SIMD.Float32x4.shuffle(a0, a1, 0, 1, 4, 5);\n  row1 = SIMD.Float32x4.shuffle(a2, a3, 0, 1, 4, 5);\n  row0 = SIMD.Float32x4.shuffle(tmp1, row1, 0, 2, 4, 6);\n  row1 = SIMD.Float32x4.shuffle(row1, tmp1, 1, 3, 5, 7);\n\n  tmp1 = SIMD.Float32x4.shuffle(a0, a1, 2, 3, 6, 7);\n  row3 = SIMD.Float32x4.shuffle(a2, a3, 2, 3, 6, 7);\n  row2 = SIMD.Float32x4.shuffle(tmp1, row3, 0, 2, 4, 6);\n  row3 = SIMD.Float32x4.shuffle(row3, tmp1, 1, 3, 5, 7);\n\n  tmp1   = SIMD.Float32x4.mul(row2, row3);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor0 = SIMD.Float32x4.mul(row1, tmp1);\n  minor1 = SIMD.Float32x4.mul(row0, tmp1);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor0 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row1, tmp1), minor0);\n  minor1 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0, tmp1), minor1);\n  minor1 = SIMD.Float32x4.swizzle(minor1, 2, 3, 0, 1);\n\n  tmp1   = SIMD.Float32x4.mul(row1, row2);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor0 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row3, tmp1), minor0);\n  minor3 = SIMD.Float32x4.mul(row0, tmp1);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor0 = SIMD.Float32x4.sub(minor0, SIMD.Float32x4.mul(row3, tmp1));\n  minor3 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0, tmp1), minor3);\n  minor3 = SIMD.Float32x4.swizzle(minor3, 2, 3, 0, 1);\n\n  tmp1   = SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(row1, 2, 3, 0, 1), row3);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  row2   = SIMD.Float32x4.swizzle(row2, 2, 3, 0, 1);\n  minor0 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row2, tmp1), minor0);\n  minor2 = SIMD.Float32x4.mul(row0, tmp1);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor0 = SIMD.Float32x4.sub(minor0, SIMD.Float32x4.mul(row2, tmp1));\n  minor2 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0, tmp1), minor2);\n  minor2 = SIMD.Float32x4.swizzle(minor2, 2, 3, 0, 1);\n\n  tmp1   = SIMD.Float32x4.mul(row0, row1);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor2 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row3, tmp1), minor2);\n  minor3 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row2, tmp1), minor3);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor2 = SIMD.Float32x4.sub(SIMD.Float32x4.mul(row3, tmp1), minor2);\n  minor3 = SIMD.Float32x4.sub(minor3, SIMD.Float32x4.mul(row2, tmp1));\n\n  tmp1   = SIMD.Float32x4.mul(row0, row3);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor1 = SIMD.Float32x4.sub(minor1, SIMD.Float32x4.mul(row2, tmp1));\n  minor2 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row1, tmp1), minor2);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor1 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row2, tmp1), minor1);\n  minor2 = SIMD.Float32x4.sub(minor2, SIMD.Float32x4.mul(row1, tmp1));\n\n  tmp1   = SIMD.Float32x4.mul(row0, row2);\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 1, 0, 3, 2);\n  minor1 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row3, tmp1), minor1);\n  minor3 = SIMD.Float32x4.sub(minor3, SIMD.Float32x4.mul(row1, tmp1));\n  tmp1   = SIMD.Float32x4.swizzle(tmp1, 2, 3, 0, 1);\n  minor1 = SIMD.Float32x4.sub(minor1, SIMD.Float32x4.mul(row3, tmp1));\n  minor3 = SIMD.Float32x4.add(SIMD.Float32x4.mul(row1, tmp1), minor3);\n\n  SIMD.Float32x4.store(out, 0,  minor0);\n  SIMD.Float32x4.store(out, 4,  minor1);\n  SIMD.Float32x4.store(out, 8,  minor2);\n  SIMD.Float32x4.store(out, 12, minor3);\n  return out;\n};\n\n/**\n * Calculates the adjugate of a mat4 using SIMD if available and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\n mat4.adjoint = glMatrix.USE_SIMD ? mat4.SIMD.adjoint : mat4.scalar.adjoint;\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nmat4.determinant = function (a) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\n\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n};\n\n/**\n * Multiplies two mat4's explicitly using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand, must be a Float32Array\n * @param {mat4} b the second operand, must be a Float32Array\n * @returns {mat4} out\n */\nmat4.SIMD.multiply = function (out, a, b) {\n    var a0 = SIMD.Float32x4.load(a, 0);\n    var a1 = SIMD.Float32x4.load(a, 4);\n    var a2 = SIMD.Float32x4.load(a, 8);\n    var a3 = SIMD.Float32x4.load(a, 12);\n\n    var b0 = SIMD.Float32x4.load(b, 0);\n    var out0 = SIMD.Float32x4.add(\n                   SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b0, 0, 0, 0, 0), a0),\n                   SIMD.Float32x4.add(\n                       SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b0, 1, 1, 1, 1), a1),\n                       SIMD.Float32x4.add(\n                           SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b0, 2, 2, 2, 2), a2),\n                           SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b0, 3, 3, 3, 3), a3))));\n    SIMD.Float32x4.store(out, 0, out0);\n\n    var b1 = SIMD.Float32x4.load(b, 4);\n    var out1 = SIMD.Float32x4.add(\n                   SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b1, 0, 0, 0, 0), a0),\n                   SIMD.Float32x4.add(\n                       SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b1, 1, 1, 1, 1), a1),\n                       SIMD.Float32x4.add(\n                           SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b1, 2, 2, 2, 2), a2),\n                           SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b1, 3, 3, 3, 3), a3))));\n    SIMD.Float32x4.store(out, 4, out1);\n\n    var b2 = SIMD.Float32x4.load(b, 8);\n    var out2 = SIMD.Float32x4.add(\n                   SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b2, 0, 0, 0, 0), a0),\n                   SIMD.Float32x4.add(\n                       SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b2, 1, 1, 1, 1), a1),\n                       SIMD.Float32x4.add(\n                               SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b2, 2, 2, 2, 2), a2),\n                               SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b2, 3, 3, 3, 3), a3))));\n    SIMD.Float32x4.store(out, 8, out2);\n\n    var b3 = SIMD.Float32x4.load(b, 12);\n    var out3 = SIMD.Float32x4.add(\n                   SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b3, 0, 0, 0, 0), a0),\n                   SIMD.Float32x4.add(\n                        SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b3, 1, 1, 1, 1), a1),\n                        SIMD.Float32x4.add(\n                            SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b3, 2, 2, 2, 2), a2),\n                            SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b3, 3, 3, 3, 3), a3))));\n    SIMD.Float32x4.store(out, 12, out3);\n\n    return out;\n};\n\n/**\n * Multiplies two mat4's explicitly not using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nmat4.scalar.multiply = function (out, a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\n        a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\n        a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\n        a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n    out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n    out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n    out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n\n    b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n    out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n    out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n    out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n    out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n    return out;\n};\n\n/**\n * Multiplies two mat4's using SIMD if available and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nmat4.multiply = glMatrix.USE_SIMD ? mat4.SIMD.multiply : mat4.scalar.multiply;\n\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\nmat4.mul = mat4.multiply;\n\n/**\n * Translate a mat4 by the given vector not using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nmat4.scalar.translate = function (out, a, v) {\n    var x = v[0], y = v[1], z = v[2],\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n        a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n        a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n        out[0] = a00; out[1] = a01; out[2] = a02; out[3] = a03;\n        out[4] = a10; out[5] = a11; out[6] = a12; out[7] = a13;\n        out[8] = a20; out[9] = a21; out[10] = a22; out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n};\n\n/**\n * Translates a mat4 by the given vector using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nmat4.SIMD.translate = function (out, a, v) {\n    var a0 = SIMD.Float32x4.load(a, 0),\n        a1 = SIMD.Float32x4.load(a, 4),\n        a2 = SIMD.Float32x4.load(a, 8),\n        a3 = SIMD.Float32x4.load(a, 12),\n        vec = SIMD.Float32x4(v[0], v[1], v[2] , 0);\n\n    if (a !== out) {\n        out[0] = a[0]; out[1] = a[1]; out[2] = a[2]; out[3] = a[3];\n        out[4] = a[4]; out[5] = a[5]; out[6] = a[6]; out[7] = a[7];\n        out[8] = a[8]; out[9] = a[9]; out[10] = a[10]; out[11] = a[11];\n    }\n\n    a0 = SIMD.Float32x4.mul(a0, SIMD.Float32x4.swizzle(vec, 0, 0, 0, 0));\n    a1 = SIMD.Float32x4.mul(a1, SIMD.Float32x4.swizzle(vec, 1, 1, 1, 1));\n    a2 = SIMD.Float32x4.mul(a2, SIMD.Float32x4.swizzle(vec, 2, 2, 2, 2));\n\n    var t0 = SIMD.Float32x4.add(a0, SIMD.Float32x4.add(a1, SIMD.Float32x4.add(a2, a3)));\n    SIMD.Float32x4.store(out, 12, t0);\n\n    return out;\n};\n\n/**\n * Translates a mat4 by the given vector using SIMD if available and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nmat4.translate = glMatrix.USE_SIMD ? mat4.SIMD.translate : mat4.scalar.translate;\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nmat4.scalar.scale = function(out, a, v) {\n    var x = v[0], y = v[1], z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nmat4.SIMD.scale = function(out, a, v) {\n    var a0, a1, a2;\n    var vec = SIMD.Float32x4(v[0], v[1], v[2], 0);\n\n    a0 = SIMD.Float32x4.load(a, 0);\n    SIMD.Float32x4.store(\n        out, 0, SIMD.Float32x4.mul(a0, SIMD.Float32x4.swizzle(vec, 0, 0, 0, 0)));\n\n    a1 = SIMD.Float32x4.load(a, 4);\n    SIMD.Float32x4.store(\n        out, 4, SIMD.Float32x4.mul(a1, SIMD.Float32x4.swizzle(vec, 1, 1, 1, 1)));\n\n    a2 = SIMD.Float32x4.load(a, 8);\n    SIMD.Float32x4.store(\n        out, 8, SIMD.Float32x4.mul(a2, SIMD.Float32x4.swizzle(vec, 2, 2, 2, 2)));\n\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n};\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 using SIMD if available and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n */\nmat4.scale = glMatrix.USE_SIMD ? mat4.SIMD.scale : mat4.scalar.scale;\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nmat4.rotate = function (out, a, rad, axis) {\n    var x = axis[0], y = axis[1], z = axis[2],\n        len = Math.sqrt(x * x + y * y + z * z),\n        s, c, t,\n        a00, a01, a02, a03,\n        a10, a11, a12, a13,\n        a20, a21, a22, a23,\n        b00, b01, b02,\n        b10, b11, b12,\n        b20, b21, b22;\n\n    if (Math.abs(len) < glMatrix.EPSILON) { return null; }\n\n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0]; a01 = a[1]; a02 = a[2]; a03 = a[3];\n    a10 = a[4]; a11 = a[5]; a12 = a[6]; a13 = a[7];\n    a20 = a[8]; a21 = a[9]; a22 = a[10]; a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the X axis not using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.scalar.rotateX = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[0]  = a[0];\n        out[1]  = a[1];\n        out[2]  = a[2];\n        out[3]  = a[3];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[4] = a10 * c + a20 * s;\n    out[5] = a11 * c + a21 * s;\n    out[6] = a12 * c + a22 * s;\n    out[7] = a13 * c + a23 * s;\n    out[8] = a20 * c - a10 * s;\n    out[9] = a21 * c - a11 * s;\n    out[10] = a22 * c - a12 * s;\n    out[11] = a23 * c - a13 * s;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the X axis using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.SIMD.rotateX = function (out, a, rad) {\n    var s = SIMD.Float32x4.splat(Math.sin(rad)),\n        c = SIMD.Float32x4.splat(Math.cos(rad));\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n      out[0]  = a[0];\n      out[1]  = a[1];\n      out[2]  = a[2];\n      out[3]  = a[3];\n      out[12] = a[12];\n      out[13] = a[13];\n      out[14] = a[14];\n      out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    var a_1 = SIMD.Float32x4.load(a, 4);\n    var a_2 = SIMD.Float32x4.load(a, 8);\n    SIMD.Float32x4.store(out, 4,\n                         SIMD.Float32x4.add(SIMD.Float32x4.mul(a_1, c), SIMD.Float32x4.mul(a_2, s)));\n    SIMD.Float32x4.store(out, 8,\n                         SIMD.Float32x4.sub(SIMD.Float32x4.mul(a_2, c), SIMD.Float32x4.mul(a_1, s)));\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the X axis using SIMD if availabe and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.rotateX = glMatrix.USE_SIMD ? mat4.SIMD.rotateX : mat4.scalar.rotateX;\n\n/**\n * Rotates a matrix by the given angle around the Y axis not using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.scalar.rotateY = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[4]  = a[4];\n        out[5]  = a[5];\n        out[6]  = a[6];\n        out[7]  = a[7];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c - a20 * s;\n    out[1] = a01 * c - a21 * s;\n    out[2] = a02 * c - a22 * s;\n    out[3] = a03 * c - a23 * s;\n    out[8] = a00 * s + a20 * c;\n    out[9] = a01 * s + a21 * c;\n    out[10] = a02 * s + a22 * c;\n    out[11] = a03 * s + a23 * c;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Y axis using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.SIMD.rotateY = function (out, a, rad) {\n    var s = SIMD.Float32x4.splat(Math.sin(rad)),\n        c = SIMD.Float32x4.splat(Math.cos(rad));\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\n        out[4]  = a[4];\n        out[5]  = a[5];\n        out[6]  = a[6];\n        out[7]  = a[7];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    var a_0 = SIMD.Float32x4.load(a, 0);\n    var a_2 = SIMD.Float32x4.load(a, 8);\n    SIMD.Float32x4.store(out, 0,\n                         SIMD.Float32x4.sub(SIMD.Float32x4.mul(a_0, c), SIMD.Float32x4.mul(a_2, s)));\n    SIMD.Float32x4.store(out, 8,\n                         SIMD.Float32x4.add(SIMD.Float32x4.mul(a_0, s), SIMD.Float32x4.mul(a_2, c)));\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Y axis if SIMD available and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n mat4.rotateY = glMatrix.USE_SIMD ? mat4.SIMD.rotateY : mat4.scalar.rotateY;\n\n/**\n * Rotates a matrix by the given angle around the Z axis not using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.scalar.rotateZ = function (out, a, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad),\n        a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[8]  = a[8];\n        out[9]  = a[9];\n        out[10] = a[10];\n        out[11] = a[11];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    out[0] = a00 * c + a10 * s;\n    out[1] = a01 * c + a11 * s;\n    out[2] = a02 * c + a12 * s;\n    out[3] = a03 * c + a13 * s;\n    out[4] = a10 * c - a00 * s;\n    out[5] = a11 * c - a01 * s;\n    out[6] = a12 * c - a02 * s;\n    out[7] = a13 * c - a03 * s;\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Z axis using SIMD\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.SIMD.rotateZ = function (out, a, rad) {\n    var s = SIMD.Float32x4.splat(Math.sin(rad)),\n        c = SIMD.Float32x4.splat(Math.cos(rad));\n\n    if (a !== out) { // If the source and destination differ, copy the unchanged last row\n        out[8]  = a[8];\n        out[9]  = a[9];\n        out[10] = a[10];\n        out[11] = a[11];\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n\n    // Perform axis-specific matrix multiplication\n    var a_0 = SIMD.Float32x4.load(a, 0);\n    var a_1 = SIMD.Float32x4.load(a, 4);\n    SIMD.Float32x4.store(out, 0,\n                         SIMD.Float32x4.add(SIMD.Float32x4.mul(a_0, c), SIMD.Float32x4.mul(a_1, s)));\n    SIMD.Float32x4.store(out, 4,\n                         SIMD.Float32x4.sub(SIMD.Float32x4.mul(a_1, c), SIMD.Float32x4.mul(a_0, s)));\n    return out;\n};\n\n/**\n * Rotates a matrix by the given angle around the Z axis if SIMD available and enabled\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n mat4.rotateZ = glMatrix.USE_SIMD ? mat4.SIMD.rotateZ : mat4.scalar.rotateZ;\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nmat4.fromTranslation = function(out, v) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {vec3} v Scaling vector\n * @returns {mat4} out\n */\nmat4.fromScaling = function(out, v) {\n    out[0] = v[0];\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = v[1];\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = v[2];\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nmat4.fromRotation = function(out, rad, axis) {\n    var x = axis[0], y = axis[1], z = axis[2],\n        len = Math.sqrt(x * x + y * y + z * z),\n        s, c, t;\n\n    if (Math.abs(len) < glMatrix.EPSILON) { return null; }\n\n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = x * x * t + c;\n    out[1] = y * x * t + z * s;\n    out[2] = z * x * t - y * s;\n    out[3] = 0;\n    out[4] = x * y * t - z * s;\n    out[5] = y * y * t + c;\n    out[6] = z * y * t + x * s;\n    out[7] = 0;\n    out[8] = x * z * t + y * s;\n    out[9] = y * z * t - x * s;\n    out[10] = z * z * t + c;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.fromXRotation = function(out, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    // Perform axis-specific matrix multiplication\n    out[0]  = 1;\n    out[1]  = 0;\n    out[2]  = 0;\n    out[3]  = 0;\n    out[4] = 0;\n    out[5] = c;\n    out[6] = s;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = -s;\n    out[10] = c;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.fromYRotation = function(out, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    // Perform axis-specific matrix multiplication\n    out[0]  = c;\n    out[1]  = 0;\n    out[2]  = -s;\n    out[3]  = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = s;\n    out[9] = 0;\n    out[10] = c;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\nmat4.fromZRotation = function(out, rad) {\n    var s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    // Perform axis-specific matrix multiplication\n    out[0]  = c;\n    out[1]  = s;\n    out[2]  = 0;\n    out[3]  = 0;\n    out[4] = -s;\n    out[5] = c;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     var quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @returns {mat4} out\n */\nmat4.fromRotationTranslation = function (out, q, v) {\n    // Quaternion math\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - (yy + zz);\n    out[1] = xy + wz;\n    out[2] = xz - wy;\n    out[3] = 0;\n    out[4] = xy - wz;\n    out[5] = 1 - (xx + zz);\n    out[6] = yz + wx;\n    out[7] = 0;\n    out[8] = xz + wy;\n    out[9] = yz - wx;\n    out[10] = 1 - (xx + yy);\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nmat4.getTranslation = function (out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n\n  return out;\n};\n\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be \n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nmat4.getScaling = function (out, mat) {\n  var m11 = mat[0],\n      m12 = mat[1],\n      m13 = mat[2],\n      m21 = mat[4],\n      m22 = mat[5],\n      m23 = mat[6],\n      m31 = mat[8],\n      m32 = mat[9],\n      m33 = mat[10];\n\n  out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\n  out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\n  out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\n\n  return out;\n};\n\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {mat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\nmat4.getRotation = function (out, mat) {\n  // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n  var trace = mat[0] + mat[5] + mat[10];\n  var S = 0;\n\n  if (trace > 0) { \n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (mat[6] - mat[9]) / S;\n    out[1] = (mat[8] - mat[2]) / S; \n    out[2] = (mat[1] - mat[4]) / S; \n  } else if ((mat[0] > mat[5])&(mat[0] > mat[10])) { \n    S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n    out[3] = (mat[6] - mat[9]) / S;\n    out[0] = 0.25 * S;\n    out[1] = (mat[1] + mat[4]) / S; \n    out[2] = (mat[8] + mat[2]) / S; \n  } else if (mat[5] > mat[10]) { \n    S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n    out[3] = (mat[8] - mat[2]) / S;\n    out[0] = (mat[1] + mat[4]) / S; \n    out[1] = 0.25 * S;\n    out[2] = (mat[6] + mat[9]) / S; \n  } else { \n    S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n    out[3] = (mat[1] - mat[4]) / S;\n    out[0] = (mat[8] + mat[2]) / S;\n    out[1] = (mat[6] + mat[9]) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n};\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     var quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @returns {mat4} out\n */\nmat4.fromRotationTranslationScale = function (out, q, v, s) {\n    // Quaternion math\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2,\n        sx = s[0],\n        sy = s[1],\n        sz = s[2];\n\n    out[0] = (1 - (yy + zz)) * sx;\n    out[1] = (xy + wz) * sx;\n    out[2] = (xz - wy) * sx;\n    out[3] = 0;\n    out[4] = (xy - wz) * sy;\n    out[5] = (1 - (xx + zz)) * sy;\n    out[6] = (yz + wx) * sy;\n    out[7] = 0;\n    out[8] = (xz + wy) * sz;\n    out[9] = (yz - wx) * sz;\n    out[10] = (1 - (xx + yy)) * sz;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     var quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @param {vec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\nmat4.fromRotationTranslationScaleOrigin = function (out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0], y = q[1], z = q[2], w = q[3],\n      x2 = x + x,\n      y2 = y + y,\n      z2 = z + z,\n\n      xx = x * x2,\n      xy = x * y2,\n      xz = x * z2,\n      yy = y * y2,\n      yz = y * z2,\n      zz = z * z2,\n      wx = w * x2,\n      wy = w * y2,\n      wz = w * z2,\n\n      sx = s[0],\n      sy = s[1],\n      sz = s[2],\n\n      ox = o[0],\n      oy = o[1],\n      oz = o[2];\n\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out[0] * ox + out[4] * oy + out[8] * oz);\n  out[13] = v[1] + oy - (out[1] * ox + out[5] * oy + out[9] * oz);\n  out[14] = v[2] + oz - (out[2] * ox + out[6] * oy + out[10] * oz);\n  out[15] = 1;\n\n  return out;\n};\n\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\nmat4.fromQuat = function (out, q) {\n    var x = q[0], y = q[1], z = q[2], w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n\n        xx = x * x2,\n        yx = y * x2,\n        yy = y * y2,\n        zx = z * x2,\n        zy = z * y2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[1] = yx + wz;\n    out[2] = zx - wy;\n    out[3] = 0;\n\n    out[4] = yx - wz;\n    out[5] = 1 - xx - zz;\n    out[6] = zy + wx;\n    out[7] = 0;\n\n    out[8] = zx + wy;\n    out[9] = zy - wx;\n    out[10] = 1 - xx - yy;\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.frustum = function (out, left, right, bottom, top, near, far) {\n    var rl = 1 / (right - left),\n        tb = 1 / (top - bottom),\n        nf = 1 / (near - far);\n    out[0] = (near * 2) * rl;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = (near * 2) * tb;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = (right + left) * rl;\n    out[9] = (top + bottom) * tb;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (far * near * 2) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.perspective = function (out, fovy, aspect, near, far) {\n    var f = 1.0 / Math.tan(fovy / 2),\n        nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = (2 * far * near) * nf;\n    out[15] = 0;\n    return out;\n};\n\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.perspectiveFromFieldOfView = function (out, fov, near, far) {\n    var upTan = Math.tan(fov.upDegrees * Math.PI/180.0),\n        downTan = Math.tan(fov.downDegrees * Math.PI/180.0),\n        leftTan = Math.tan(fov.leftDegrees * Math.PI/180.0),\n        rightTan = Math.tan(fov.rightDegrees * Math.PI/180.0),\n        xScale = 2.0 / (leftTan + rightTan),\n        yScale = 2.0 / (upTan + downTan);\n\n    out[0] = xScale;\n    out[1] = 0.0;\n    out[2] = 0.0;\n    out[3] = 0.0;\n    out[4] = 0.0;\n    out[5] = yScale;\n    out[6] = 0.0;\n    out[7] = 0.0;\n    out[8] = -((leftTan - rightTan) * xScale * 0.5);\n    out[9] = ((upTan - downTan) * yScale * 0.5);\n    out[10] = far / (near - far);\n    out[11] = -1.0;\n    out[12] = 0.0;\n    out[13] = 0.0;\n    out[14] = (far * near) / (near - far);\n    out[15] = 0.0;\n    return out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nmat4.ortho = function (out, left, right, bottom, top, near, far) {\n    var lr = 1 / (left - right),\n        bt = 1 / (bottom - top),\n        nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n};\n\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} center Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nmat4.lookAt = function (out, eye, center, up) {\n    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len,\n        eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2],\n        centerx = center[0],\n        centery = center[1],\n        centerz = center[2];\n\n    if (Math.abs(eyex - centerx) < glMatrix.EPSILON &&\n        Math.abs(eyey - centery) < glMatrix.EPSILON &&\n        Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n        return mat4.identity(out);\n    }\n\n    z0 = eyex - centerx;\n    z1 = eyey - centery;\n    z2 = eyez - centerz;\n\n    len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n\n    x0 = upy * z2 - upz * z1;\n    x1 = upz * z0 - upx * z2;\n    x2 = upx * z1 - upy * z0;\n    len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n    if (!len) {\n        x0 = 0;\n        x1 = 0;\n        x2 = 0;\n    } else {\n        len = 1 / len;\n        x0 *= len;\n        x1 *= len;\n        x2 *= len;\n    }\n\n    y0 = z1 * x2 - z2 * x1;\n    y1 = z2 * x0 - z0 * x2;\n    y2 = z0 * x1 - z1 * x0;\n\n    len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n    if (!len) {\n        y0 = 0;\n        y1 = 0;\n        y2 = 0;\n    } else {\n        len = 1 / len;\n        y0 *= len;\n        y1 *= len;\n        y2 *= len;\n    }\n\n    out[0] = x0;\n    out[1] = y0;\n    out[2] = z0;\n    out[3] = 0;\n    out[4] = x1;\n    out[5] = y1;\n    out[6] = z1;\n    out[7] = 0;\n    out[8] = x2;\n    out[9] = y2;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n    out[15] = 1;\n\n    return out;\n};\n\n/**\n * Returns a string representation of a mat4\n *\n * @param {mat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nmat4.str = function (a) {\n    return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' +\n                    a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' +\n                    a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' +\n                    a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n};\n\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {mat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nmat4.frob = function (a) {\n    return(Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2) ))\n};\n\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nmat4.add = function(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    out[9] = a[9] + b[9];\n    out[10] = a[10] + b[10];\n    out[11] = a[11] + b[11];\n    out[12] = a[12] + b[12];\n    out[13] = a[13] + b[13];\n    out[14] = a[14] + b[14];\n    out[15] = a[15] + b[15];\n    return out;\n};\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nmat4.subtract = function(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    out[9] = a[9] - b[9];\n    out[10] = a[10] - b[10];\n    out[11] = a[11] - b[11];\n    out[12] = a[12] - b[12];\n    out[13] = a[13] - b[13];\n    out[14] = a[14] - b[14];\n    out[15] = a[15] - b[15];\n    return out;\n};\n\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\nmat4.sub = mat4.subtract;\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\nmat4.multiplyScalar = function(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    out[9] = a[9] * b;\n    out[10] = a[10] * b;\n    out[11] = a[11] * b;\n    out[12] = a[12] * b;\n    out[13] = a[13] * b;\n    out[14] = a[14] * b;\n    out[15] = a[15] * b;\n    return out;\n};\n\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\nmat4.multiplyScalarAndAdd = function(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    out[2] = a[2] + (b[2] * scale);\n    out[3] = a[3] + (b[3] * scale);\n    out[4] = a[4] + (b[4] * scale);\n    out[5] = a[5] + (b[5] * scale);\n    out[6] = a[6] + (b[6] * scale);\n    out[7] = a[7] + (b[7] * scale);\n    out[8] = a[8] + (b[8] * scale);\n    out[9] = a[9] + (b[9] * scale);\n    out[10] = a[10] + (b[10] * scale);\n    out[11] = a[11] + (b[11] * scale);\n    out[12] = a[12] + (b[12] * scale);\n    out[13] = a[13] + (b[13] * scale);\n    out[14] = a[14] + (b[14] * scale);\n    out[15] = a[15] + (b[15] * scale);\n    return out;\n};\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat4} a The first matrix.\n * @param {mat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nmat4.exactEquals = function (a, b) {\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && \n           a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && \n           a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] &&\n           a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n};\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat4} a The first matrix.\n * @param {mat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nmat4.equals = function (a, b) {\n    var a0  = a[0],  a1  = a[1],  a2  = a[2],  a3  = a[3],\n        a4  = a[4],  a5  = a[5],  a6  = a[6],  a7  = a[7], \n        a8  = a[8],  a9  = a[9],  a10 = a[10], a11 = a[11], \n        a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];\n\n    var b0  = b[0],  b1  = b[1],  b2  = b[2],  b3  = b[3],\n        b4  = b[4],  b5  = b[5],  b6  = b[6],  b7  = b[7], \n        b8  = b[8],  b9  = b[9],  b10 = b[10], b11 = b[11], \n        b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\n\n    return (Math.abs(a0 - b0) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n            Math.abs(a1 - b1) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\n            Math.abs(a2 - b2) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\n            Math.abs(a3 - b3) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\n            Math.abs(a4 - b4) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\n            Math.abs(a5 - b5) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a5), Math.abs(b5)) &&\n            Math.abs(a6 - b6) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a6), Math.abs(b6)) &&\n            Math.abs(a7 - b7) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a7), Math.abs(b7)) &&\n            Math.abs(a8 - b8) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a8), Math.abs(b8)) &&\n            Math.abs(a9 - b9) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a9), Math.abs(b9)) &&\n            Math.abs(a10 - b10) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a10), Math.abs(b10)) &&\n            Math.abs(a11 - b11) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a11), Math.abs(b11)) &&\n            Math.abs(a12 - b12) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a12), Math.abs(b12)) &&\n            Math.abs(a13 - b13) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a13), Math.abs(b13)) &&\n            Math.abs(a14 - b14) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a14), Math.abs(b14)) &&\n            Math.abs(a15 - b15) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a15), Math.abs(b15)));\n};\n\n\n\nmodule.exports = mat4;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/glMatrix-mat4.js","/* Copyright (c) 2015, Brandon Jones, Colin MacKenzie IV.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE. */\n\n/**\n * @class Common utilities\n * @name glMatrix\n */\nvar glMatrix = {};\n\n// Configuration Constants\nglMatrix.EPSILON = 0.000001;\nglMatrix.ARRAY_TYPE = (typeof Float32Array !== 'undefined') ? Float32Array : Array;\nglMatrix.RANDOM = Math.random;\nglMatrix.ENABLE_SIMD = false;\n\nvar self = this || window || global;\n\n// Capability detection\nglMatrix.SIMD_AVAILABLE = (glMatrix.ARRAY_TYPE === self.Float32Array) && ('SIMD' in self);\nglMatrix.USE_SIMD = glMatrix.ENABLE_SIMD && glMatrix.SIMD_AVAILABLE;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nglMatrix.setMatrixArrayType = function(type) {\n    glMatrix.ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n* Convert Degree To Radian\n*\n* @param {Number} a Angle in Degrees\n*/\nglMatrix.toRadian = function(a){\n     return a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less \n * than or equal to 1.0, and a relative tolerance is used for larger values)\n * \n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\nglMatrix.equals = function(a, b) {\n\treturn Math.abs(a - b) <= glMatrix.EPSILON*Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n\nmodule.exports = glMatrix;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/glMatrix-common.js","export default function ModelSettingJson(json)\r\n{\r\n    this.NAME = \"name\";\r\n    this.ID = \"id\";\r\n    this.MODEL = \"model\";\r\n    this.TEXTURES = \"textures\";\r\n    this.HIT_AREAS = \"hit_areas\";\r\n    this.PHYSICS = \"physics\";\r\n    this.POSE = \"pose\";\r\n    this.EXPRESSIONS = \"expressions\";\r\n    this.MOTION_GROUPS = \"motions\";\r\n    this.SOUND = \"sound\";\r\n    this.FADE_IN = \"fade_in\";\r\n    this.FADE_OUT = \"fade_out\";\r\n    this.LAYOUT = \"layout\";\r\n    this.INIT_PARAM = \"init_param\";\r\n    this.INIT_PARTS_VISIBLE = \"init_parts_visible\";\r\n    this.VALUE = \"val\";\r\n    this.FILE = \"file\";\r\n\r\n    this.json = json || {};\r\n}\r\n\r\n\r\n// ModelSettingJson.prototype.loadModelSetting = function(path, callback)\r\n// {\r\n//     var thisRef = this;\r\n//     var pm = Live2DFramework.getPlatformManager();\r\n//     pm.loadBytes(path, function(buf) {\r\n//         var str = String.fromCharCode.apply(null,new Uint8Array(buf));\r\n//         thisRef.json = JSON.parse(str);\r\n//         callback();\r\n//     });\r\n// };\r\n\r\n\r\nModelSettingJson.prototype.getTextureFile = function(n)\r\n{\r\n    if (this.json[this.TEXTURES] == null || this.json[this.TEXTURES][n] == null)\r\n        return null;\r\n\r\n    return this.json[this.TEXTURES][n];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getModelFile = function()\r\n{\r\n    return this.json[this.MODEL];\r\n};\r\n\r\n\r\nModelSettingJson.prototype.getTextureNum = function()\r\n{\r\n    if (this.json[this.TEXTURES] == null) return 0;\r\n\r\n    return this.json[this.TEXTURES].length;\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getHitAreaNum = function()\r\n{\r\n    if (this.json[this.HIT_AREAS] == null)\r\n        return 0;\r\n\r\n    return this.json[this.HIT_AREAS].length;\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getHitAreaID = function(n)\r\n{\r\n    if (this.json[this.HIT_AREAS] == null ||\r\n        this.json[this.HIT_AREAS][n] == null)\r\n        return null;\r\n\r\n    return this.json[this.HIT_AREAS][n][this.ID];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getHitAreaName = function(n)\r\n{\r\n    if (this.json[this.HIT_AREAS] == null ||\r\n        this.json[this.HIT_AREAS][n] == null)\r\n        return null;\r\n\r\n    return this.json[this.HIT_AREAS][n][this.NAME];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getPhysicsFile = function()\r\n{\r\n    return this.json[this.PHYSICS];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getPoseFile = function()\r\n{\r\n    return this.json[this.POSE];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getExpressionNum = function()\r\n{\r\n    return (this.json[this.EXPRESSIONS] == null) ? 0 : this.json[this.EXPRESSIONS].length;\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getExpressionFile = function(n)\r\n{\r\n    if (this.json[this.EXPRESSIONS] == null)\r\n        return null;\r\n    return this.json[this.EXPRESSIONS][n][this.FILE];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getExpressionName = function(n)\r\n{\r\n    if (this.json[this.EXPRESSIONS] == null)\r\n        return null;\r\n    return this.json[this.EXPRESSIONS][n][this.NAME];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getLayout = function()\r\n{\r\n    return this.json[this.LAYOUT];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getInitParamNum = function()\r\n{\r\n    return (this.json[this.INIT_PARAM] == null) ? 0 : this.json[this.INIT_PARAM].length;\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getMotionNum = function(name)\r\n{\r\n    if (this.json[this.MOTION_GROUPS] == null ||\r\n        this.json[this.MOTION_GROUPS][name] == null)\r\n        return 0;\r\n\r\n    return this.json[this.MOTION_GROUPS][name].length;\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getMotionFile = function(name, n)\r\n{\r\n    if (this.json[this.MOTION_GROUPS] == null ||\r\n        this.json[this.MOTION_GROUPS][name] == null ||\r\n        this.json[this.MOTION_GROUPS][name][n] == null)\r\n        return null;\r\n\r\n    return this.json[this.MOTION_GROUPS][name][n][this.FILE];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getMotionSound = function(name, n)\r\n{\r\n    if (this.json[this.MOTION_GROUPS] == null ||\r\n        this.json[this.MOTION_GROUPS][name] == null ||\r\n        this.json[this.MOTION_GROUPS][name][n] == null ||\r\n        this.json[this.MOTION_GROUPS][name][n][this.SOUND] == null)\r\n        return null;\r\n\r\n    return this.json[this.MOTION_GROUPS][name][n][this.SOUND];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getMotionFadeIn = function(name, n)\r\n{\r\n    if (this.json[this.MOTION_GROUPS] == null ||\r\n        this.json[this.MOTION_GROUPS][name] == null ||\r\n        this.json[this.MOTION_GROUPS][name][n] == null ||\r\n        this.json[this.MOTION_GROUPS][name][n][this.FADE_IN] == null)\r\n        return 1000;\r\n\r\n    return this.json[this.MOTION_GROUPS][name][n][this.FADE_IN];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getMotionFadeOut = function(name, n)\r\n{\r\n    if (this.json[this.MOTION_GROUPS] == null ||\r\n        this.json[this.MOTION_GROUPS][name] == null ||\r\n        this.json[this.MOTION_GROUPS][name][n] == null ||\r\n        this.json[this.MOTION_GROUPS][name][n][this.FADE_OUT] == null)\r\n        return 1000;\r\n\r\n    return this.json[this.MOTION_GROUPS][name][n][this.FADE_OUT];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getInitParamID = function(n)\r\n{\r\n    if (this.json[this.INIT_PARAM] == null ||\r\n        this.json[this.INIT_PARAM][n] == null)\r\n        return null;\r\n\r\n    return this.json[this.INIT_PARAM][n][this.ID];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getInitParamValue = function(n)\r\n{\r\n    if (this.json[this.INIT_PARAM] == null || this.json[this.INIT_PARAM][n] == null)\r\n        return NaN;\r\n\r\n    return this.json[this.INIT_PARAM][n][this.VALUE];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getInitPartsVisibleNum = function()\r\n{\r\n    return (this.json[this.INIT_PARTS_VISIBLE] == null) ? 0 : this.json[this.INIT_PARTS_VISIBLE].length;\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getInitPartsVisibleID = function(n)\r\n{\r\n    if (this.json[this.INIT_PARTS_VISIBLE] == null || this.json[this.INIT_PARTS_VISIBLE][n] == null)\r\n        return null;\r\n    return this.json[this.INIT_PARTS_VISIBLE][n][this.ID];\r\n}\r\n\r\n\r\nModelSettingJson.prototype.getInitPartsVisibleValue = function(n)\r\n{\r\n    if (this.json[this.INIT_PARTS_VISIBLE] == null || this.json[this.INIT_PARTS_VISIBLE][n] == null)\r\n        return NaN;\r\n\r\n    return this.json[this.INIT_PARTS_VISIBLE][n][this.VALUE];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ModelSettingJson.js","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"PIXI\"\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}