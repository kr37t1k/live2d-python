!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cubismframework=e():t.cubismframework=e()}(this,()=>(()=>{"use strict";var t={591(t,e,r){r.d(e,{CubismBlendMode:()=>l,CubismRenderer:()=>u,CubismTextureColor:()=>h});class s{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(t,e,r){const s=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);for(let r=0;r<4;++r)for(let i=0;i<4;++i)for(let n=0;n<4;++n)s[i+4*r]+=t[n+4*r]*e[i+4*n];for(let t=0;t<16;++t)r[t]=s[t]}loadIdentity(){const t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(t)}setMatrix(t){for(let e=0;e<16;++e)this._tr[e]=t[e]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(t){return this._tr[0]*t+this._tr[12]}transformY(t){return this._tr[5]*t+this._tr[13]}invertTransformX(t){return(t-this._tr[12])/this._tr[0]}invertTransformY(t){return(t-this._tr[13])/this._tr[5]}translateRelative(t,e){const r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1]);s.multiply(r,this._tr,this._tr)}translate(t,e){this._tr[12]=t,this._tr[13]=e}translateX(t){this._tr[12]=t}translateY(t){this._tr[13]=t}scaleRelative(t,e){const r=new Float32Array([t,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]);s.multiply(r,this._tr,this._tr)}scale(t,e){this._tr[0]=t,this._tr[5]=e}multiplyByMatrix(t){s.multiply(t.getArray(),this._tr,this._tr)}clone(){const t=new s;for(let e=0;e<this._tr.length;e++)t._tr[e]=this._tr[e];return t}}var i,n,l,a;!function(t){t.CubismMatrix44=s}(i||(i={}));class o{constructor(t,e,r,s){this.x=t,this.y=e,this.width=r,this.height=s}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}expand(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e}}!function(t){t.csmRect=o}(n||(n={}));class u{static create(){return null}static delete(t){}initialize(t){this._model=t}drawModel(){null!=this.getModel()&&(this.saveProfile(),this.doDrawModel(),this.restoreProfile())}setMvpMatrix(t){this._mvpMatrix4x4.setMatrix(t.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(t,e,r,s){t<0?t=0:t>1&&(t=1),e<0?e=0:e>1&&(e=1),r<0?r=0:r>1&&(r=1),s<0?s=0:s>1&&(s=1),this._modelColor.r=t,this._modelColor.g=e,this._modelColor.b=r,this._modelColor.a=s}getModelColor(){return JSON.parse(JSON.stringify(this._modelColor))}getModelColorWithOpacity(t){const e=this.getModelColor();return e.a*=t,this.isPremultipliedAlpha()&&(e.r*=e.a,e.g*=e.a,e.b*=e.a),e}setIsPremultipliedAlpha(t){this._isPremultipliedAlpha=t}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(t){this._isCulling=t}isCulling(){return this._isCulling}setAnisotropy(t){this._anisotropy=t}getAnisotropy(){return this._anisotropy}getModel(){return this._model}useHighPrecisionMask(t){this._useHighPrecisionMask=t}isUsingHighPrecisionMask(){return this._useHighPrecisionMask}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisotropy=0,this._model=null,this._modelColor=new h,this._useHighPrecisionMask=!1,this._mvpMatrix4x4=new s,this._mvpMatrix4x4.loadIdentity()}}!function(t){t[t.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",t[t.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",t[t.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative"}(l||(l={}));class h{constructor(t=1,e=1,r=1,s=1){this.r=t,this.g=e,this.b=r,this.a=s}}!function(t){t.CubismBlendMode=l,t.CubismRenderer=u,t.CubismTextureColor=h}(a||(a={}))}},e={};function r(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s,i,n,l,a={};r.r(a),r.d(a,{Constant:()=>K,CubismFramework:()=>X,Live2DCubismFramework:()=>W,LogLevel:()=>H,Option:()=>Y,csmDelete:()=>U,strtod:()=>j});class o{constructor(t=0){t<1?(this._ptr=[],this._capacity=0,this._size=0):(this._ptr=new Array(t),this._capacity=t,this._size=0)}at(t){return this._ptr[t]}set(t,e){this._ptr[t]=e}get(t=0){const e=new Array;for(let r=t;r<this._size;r++)e.push(this._ptr[r]);return e}pushBack(t){this._size>=this._capacity&&this.prepareCapacity(0==this._capacity?o.DefaultSize:2*this._capacity),this._ptr[this._size++]=t}clear(){this._ptr.length=0,this._size=0}getSize(){return this._size}assign(t,e){this._size<t&&this.prepareCapacity(t);for(let r=0;r<t;r++)this._ptr[r]=e;this._size=t}resize(t,e=null){this.updateSize(t,e,!0)}updateSize(t,e=null,r=!0){if(this._size<t)if(this.prepareCapacity(t),r)for(let r=this._size;r<t;r++)this._ptr[r]="function"==typeof e?JSON.parse(JSON.stringify(new e)):e;else for(let r=this._size;r<t;r++)this._ptr[r]=e;else{const e=this._size-t;this._ptr.splice(this._size-e,e)}this._size=t}insert(t,e,r){let s=t._index;const i=e._index,n=r._index,l=n-i;this.prepareCapacity(this._size+l);const a=this._size-s;if(a>0)for(let t=0;t<a;t++)this._ptr.splice(s+t,0,null);for(let t=i;t<n;t++,s++)this._ptr[s]=e._vector._ptr[t];this._size=this._size+l}remove(t){return!(t<0||this._size<=t||(this._ptr.splice(t,1),--this._size,0))}erase(t){const e=t._index;return e<0||this._size<=e?t:(this._ptr.splice(e,1),--this._size,new u(this,e))}prepareCapacity(t){t>this._capacity&&(0==this._capacity?(this._ptr=new Array(t),this._capacity=t):(this._ptr.length=t,this._capacity=t))}begin(){return 0==this._size?this.end():new u(this,0)}end(){return new u(this,this._size)}getOffset(t){const e=new o;return e._ptr=this.get(t),e._size=this.get(t).length,e._capacity=this.get(t).length,e}}o.DefaultSize=10;class u{constructor(t,e){this._vector=null!=t?t:null,this._index=null!=e?e:0}set(t){return this._index=t._index,this._vector=t._vector,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new u(this._vector,this._index++)}decrement(){return new u(this._vector,this._index--)}ptr(){return this._vector._ptr[this._index]}substitution(t){return this._index=t._index,this._vector=t._vector,this}notEqual(t){return this._index!=t._index||this._vector!=t._vector}}!function(t){t.csmVector=o,t.iterator=u}(s||(s={}));class h{append(t,e){return this.s+=void 0!==e?t.substr(0,e):t,this}expansion(t,e){for(let r=0;r<t;r++)this.append(e);return this}getBytes(){return encodeURIComponent(this.s).replace(/%../g,"x").length}getLength(){return this.s.length}isLess(t){return this.s<t.s}isGreat(t){return this.s>t.s}isEqual(t){return this.s==t}isEmpty(){return 0==this.s.length}constructor(t){this.s=t}}!function(t){t.csmString=h}(i||(i={}));class c{static createIdInternal(t){return new c(t)}getString(){return this._id}isEqual(t){return"string"==typeof t?this._id.isEqual(t):t instanceof h?this._id.isEqual(t.s):t instanceof c&&this._id.isEqual(t._id.s)}isNotEqual(t){return"string"==typeof t?!this._id.isEqual(t):t instanceof h?!this._id.isEqual(t.s):t instanceof c&&!this._id.isEqual(t._id.s)}constructor(t){this._id="string"!=typeof t?t:new h(t)}}!function(t){t.CubismId=c}(n||(n={}));class _{constructor(){this._ids=new o}release(){for(let t=0;t<this._ids.getSize();++t)this._ids.set(t,void 0);this._ids=null}registerIds(t){for(let e=0;e<t.length;e++)this.registerId(t[e])}registerId(t){let e=null;return"string"!=typeof t?this.registerId(t.s):(null!=(e=this.findId(t))||(e=c.createIdInternal(t),this._ids.pushBack(e)),e)}getId(t){return this.registerId(t)}isExist(t){return"string"==typeof t?null!=this.findId(t):this.isExist(t.s)}findId(t){for(let e=0;e<this._ids.getSize();++e)if(this._ids.at(e).getString().isEqual(t))return this._ids.at(e);return null}}!function(t){t.CubismIdManager=_}(l||(l={}));var p=r(591);const d=(t,e,r)=>{((t,e,r)=>{w.print(t,"[CSM]"+e,r)})(t,e+"\n",r)},g=t=>{console.assert(t)};let f,y,m,b,C;f=(t,...e)=>{d(H.LogLevel_Verbose,"[V]"+t,e)},y=(t,...e)=>{d(H.LogLevel_Debug,"[D]"+t,e)},m=(t,...e)=>{d(H.LogLevel_Info,"[I]"+t,e)},b=(t,...e)=>{d(H.LogLevel_Warning,"[W]"+t,e)},C=(t,...e)=>{d(H.LogLevel_Error,"[E]"+t,e)};class w{static print(t,e,r){if(t<X.getLoggingLevel())return;const s=X.coreLogFunction;s&&s(e.replace(/\{(\d+)\}/g,(t,e)=>r[e]))}static dumpBytes(t,e,r){for(let s=0;s<r;s++)s%16==0&&s>0?this.print(t,"\n"):s%8==0&&s>0&&this.print(t,"  "),this.print(t,"{0} ",[255&e[s]]);this.print(t,"\n")}constructor(){}}var x,v;!function(t){t.CubismDebug=w}(x||(x={}));class k{constructor(t,e){this.first=null==t?null:t,this.second=null==e?null:e}}class V{constructor(t){null!=t?t<1?(this._keyValues=[],this._dummyValue=null,this._size=0):(this._keyValues=new Array(t),this._size=t):(this._keyValues=[],this._dummyValue=null,this._size=0)}release(){this.clear()}appendKey(t){let e=-1;for(let r=0;r<this._size;r++)if(this._keyValues[r].first==t){e=r;break}-1==e?(this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new k(t),this._size+=1):b("The key `{0}` is already append.",t)}getValue(t){let e=-1;for(let r=0;r<this._size;r++)if(this._keyValues[r].first==t){e=r;break}return e>=0?this._keyValues[e].second:(this.appendKey(t),this._keyValues[this._size-1].second)}setValue(t,e){let r=-1;for(let e=0;e<this._size;e++)if(this._keyValues[e].first==t){r=e;break}r>=0?this._keyValues[r].second=e:(this.appendKey(t),this._keyValues[this._size-1].second=e)}isExist(t){for(let e=0;e<this._size;e++)if(this._keyValues[e].first==t)return!0;return!1}clear(){this._keyValues=void 0,this._keyValues=null,this._keyValues=[],this._size=0}getSize(){return this._size}prepareCapacity(t,e){t>this._keyValues.length&&(0==this._keyValues.length?(!e&&t<V.DefaultSize&&(t=V.DefaultSize),this._keyValues.length=t):(!e&&t<2*this._keyValues.length&&(t=2*this._keyValues.length),this._keyValues.length=t))}begin(){return new z(this,0)}end(){return new z(this,this._size)}erase(t){const e=t._index;return e<0||this._size<=e?t:(this._keyValues.splice(e,1),--this._size,new z(this,e))}dumpAsInt(){for(let t=0;t<this._size;t++)y("{0} ,",this._keyValues[t]),y("\n")}}V.DefaultSize=10;class z{constructor(t,e){this._map=null!=t?t:new V,this._index=null!=e?e:0}set(t){return this._index=t._index,this._map=t._map,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new z(this._map,this._index++)}decrement(){const t=new z(this._map,this._index);return this._map=t._map,this._index=t._index,this}ptr(){return this._map._keyValues[this._index]}notEqual(t){return this._index!=t._index||this._map!=t._map}}!function(t){t.csmMap=V,t.csmPair=k,t.iterator=z}(v||(v={}));class S{static parseJsonObject(t,e){return Object.keys(t).forEach(r=>{if("boolean"==typeof t[r]){const s=Boolean(t[r]);e.put(r,new A(s))}else if("string"==typeof t[r]){const s=String(t[r]);e.put(r,new I(s))}else if("number"==typeof t[r]){const s=Number(t[r]);e.put(r,new E(s))}else t[r]instanceof Array?e.put(r,S.parseJsonArray(t[r])):t[r]instanceof Object?e.put(r,S.parseJsonObject(t[r],new q)):null==t[r]?e.put(r,new O):e.put(r,t[r])}),e}static parseJsonArray(t){const e=new N;return Object.keys(t).forEach(r=>{if("number"==typeof Number(r))if("boolean"==typeof t[r]){const s=Boolean(t[r]);e.add(new A(s))}else if("string"==typeof t[r]){const s=String(t[r]);e.add(new I(s))}else if("number"==typeof t[r]){const s=Number(t[r]);e.add(new E(s))}else t[r]instanceof Array?e.add(this.parseJsonArray(t[r])):t[r]instanceof Object?e.add(this.parseJsonObject(t[r],new q)):null==t[r]?e.add(new O):e.add(t[r]);else if(t[r]instanceof Array)e.add(this.parseJsonArray(t[r]));else if(t[r]instanceof Object)e.add(this.parseJsonObject(t[r],new q));else if(null==t[r])e.add(new O);else{const s=Array(t[r]);for(let t=0;t<s.length;t++)e.add(s[t])}}),e}}const L="Error: type mismatch";class B{constructor(){}getRawString(t,e){return this.getString(t,e)}toInt(t=0){return t}toFloat(t=0){return t}toBoolean(t=!1){return t}getSize(){return 0}getArray(t=null){return t}getVector(t=new o){return t}getMap(t){return t}getValueByIndex(t){return B.errorValue.setErrorNotForClientCall(L)}getValueByString(t){return B.nullValue.setErrorNotForClientCall(L)}getKeys(){return B.dummyKeys}isError(){return!1}isNull(){return!1}isBool(){return!1}isFloat(){return!1}isString(){return!1}isArray(){return!1}isMap(){return!1}equals(t){return!1}isStatic(){return!1}setErrorNotForClientCall(t){return F.errorValue}static staticInitializeNotForClientCall(){A.trueValue=new A(!0),A.falseValue=new A(!1),B.errorValue=new F("ERROR",!0),B.nullValue=new O,B.dummyKeys=new o}static staticReleaseNotForClientCall(){A.trueValue=null,A.falseValue=null,B.errorValue=null,B.nullValue=null,B.dummyKeys=null}}class M{constructor(t,e){this._parseCallback=S.parseJsonObject,this._error=null,this._lineCount=0,this._root=null,null!=t&&this.parseBytes(t,e,this._parseCallback)}static create(t,e){const r=new M;return r.parseBytes(t,e,r._parseCallback)?r:(M.delete(r),null)}static delete(t){}getRoot(){return this._root}static arrayBufferToString(t){const e=new Uint8Array(t);let r="";for(let t=0,s=e.length;t<s;++t)r+="%"+this.pad(e[t].toString(16));return r=decodeURIComponent(r),r}static pad(t){return t.length<2?"0"+t:t}parseBytes(t,e,r){const s=new Array(1),i=M.arrayBufferToString(t);if(this._root=null==r?this.parseValue(i,e,0,s):r(JSON.parse(i),new q),this._error){let t="\0";return t="Json parse error : @line "+(this._lineCount+1)+"\n",this._root=new I(t),m("{0}",this._root.getRawString()),!1}return null!=this._root||(this._root=new F(new h(this._error),!1),!1)}getParseError(){return this._error}checkEndOfFile(){return this._root.getArray()[1].equals("EOF")}parseValue(t,e,r,s){if(this._error)return null;let i,n=null,l=r;for(;l<e;l++)switch(t[l]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{const e=new Array(1);return i=j(t.slice(l),e),s[0]=t.indexOf(e[0]),new E(i)}case'"':return new I(this.parseString(t,e,l+1,s));case"[":return n=this.parseArray(t,e,l+1,s),n;case"{":return n=this.parseObject(t,e,l+1,s),n;case"n":return l+3<e?(n=new O,s[0]=l+4):this._error="parse null",n;case"t":return l+3<e?(n=A.trueValue,s[0]=l+4):this._error="parse true",n;case"f":return l+4<e?(n=A.falseValue,s[0]=l+5):this._error="illegal ',' position",n;case",":return this._error="illegal ',' position",null;case"]":return s[0]=l,null;case"\n":this._lineCount++}return this._error="illegal end of value",null}parseString(t,e,r,s){if(this._error)return null;if(!t)return this._error="string is null",null;let i,n,l=r;const a=new h("");let o=r;for(;l<e;l++)switch(i=t[l],i){case'"':return s[0]=l+1,a.append(t.slice(o),l-o),a.s;case"//":if(l++,l-1>o&&a.append(t.slice(o),l-o),o=l+1,l<e)switch(n=t[l],n){case"\\":a.expansion(1,"\\");break;case'"':a.expansion(1,'"');break;case"/":a.expansion(1,"/");break;case"b":a.expansion(1,"\b");break;case"f":a.expansion(1,"\f");break;case"n":a.expansion(1,"\n");break;case"r":a.expansion(1,"\r");break;case"t":a.expansion(1,"\t");break;case"u":this._error="parse string/unicord escape not supported"}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null}parseObject(t,e,r,s){if(this._error)return null;if(!t)return this._error="buffer is null",null;const i=new q;let n="",l=r,a="";const o=Array(1);let u=!1;for(;l<e;l++){t:for(;l<e;l++)switch(a=t[l],a){case'"':if(n=this.parseString(t,e,l+1,o),this._error)return null;l=o[0],u=!0;break t;case"}":return s[0]=l+1,i;case":":this._error="illegal ':' position";break;case"\n":this._lineCount++}if(!u)return this._error="key not found",null;u=!1;t:for(;l<e;l++)switch(a=t[l],a){case":":u=!0,l++;break t;case"}":this._error="illegal '}' position";break;case"\n":this._lineCount++}if(!u)return this._error="':' not found",null;const r=this.parseValue(t,e,l,o);if(this._error)return null;l=o[0],i.put(n,r);t:for(;l<e;l++)switch(a=t[l],a){case",":break t;case"}":return s[0]=l+1,i;case"\n":this._lineCount++}}return this._error="illegal end of perseObject",null}parseArray(t,e,r,s){if(this._error)return null;if(!t)return this._error="buffer is null",null;let i,n=new N,l=r;const a=new Array(1);for(;l<e;l++){const r=this.parseValue(t,e,l,a);if(this._error)return null;l=a[0],r&&n.add(r);t:for(;l<e;l++)switch(i=t[l],i){case",":break t;case"]":return s[0]=l+1,n;case"\n":++this._lineCount}}return n=void 0,this._error="illegal end of parseObject",null}}class E extends B{constructor(t){super(),this._value=t}isFloat(){return!0}getString(t,e){return this._value=parseFloat("\0"),this._stringBuffer="\0",this._stringBuffer}toInt(t=0){return parseInt(this._value.toString())}toFloat(t=0){return this._value}equals(t){return"number"==typeof t&&!Math.round(t)&&t==this._value}}class A extends B{isBool(){return!0}toBoolean(t=!1){return this._boolValue}getString(t,e){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer}equals(t){return"boolean"==typeof t&&t==this._boolValue}isStatic(){return!0}constructor(t){super(),this._boolValue=t}}class I extends B{constructor(t){super(),"string"==typeof t&&(this._stringBuffer=t),t instanceof h&&(this._stringBuffer=t.s)}isString(){return!0}getString(t,e){return this._stringBuffer}equals(t){return"string"==typeof t?this._stringBuffer==t:t instanceof h&&this._stringBuffer==t.s}}class F extends I{isStatic(){return this._isStatic}setErrorNotForClientCall(t){return this._stringBuffer=t,this}constructor(t,e){super(t),this._isStatic=e}isError(){return!0}}class O extends B{isNull(){return!0}getString(t,e){return this._stringBuffer}isStatic(){return!0}setErrorNotForClientCall(t){return this._stringBuffer=t,F.nullValue}constructor(){super(),this._stringBuffer="NullValue"}}class N extends B{constructor(){super(),this._array=new o}release(){for(let t=this._array.begin();t.notEqual(this._array.end());t.preIncrement()){let e=t.ptr();e&&!e.isStatic()&&(e=void 0,e=null)}}isArray(){return!0}getValueByIndex(t){if(t<0||this._array.getSize()<=t)return B.errorValue.setErrorNotForClientCall("Error: index out of bounds");const e=this._array.at(t);return null==e?B.nullValue:e}getValueByString(t){return B.errorValue.setErrorNotForClientCall(L)}getString(t,e){const r=e+"[\n";for(let t=this._array.begin();t.notEqual(this._array.end());t.increment()){const r=t.ptr();this._stringBuffer+=e+""+r.getString(e+" ")+"\n"}return this._stringBuffer=r+e+"]\n",this._stringBuffer}add(t){this._array.pushBack(t)}getVector(t=null){return this._array}getSize(){return this._array.getSize()}}class q extends B{constructor(){super(),this._map=new V}release(){const t=this._map.begin();for(;t.notEqual(this._map.end());){let e=t.ptr().second;e&&!e.isStatic()&&(e=void 0,e=null),t.preIncrement()}}isMap(){return!0}getValueByString(t){if(t instanceof h){const e=this._map.getValue(t.s);return null==e?B.nullValue:e}for(let e=this._map.begin();e.notEqual(this._map.end());e.preIncrement())if(e.ptr().first==t)return null==e.ptr().second?B.nullValue:e.ptr().second;return B.nullValue}getValueByIndex(t){return B.errorValue.setErrorNotForClientCall(L)}getString(t,e){this._stringBuffer=e+"{\n";const r=this._map.begin();for(;r.notEqual(this._map.end());){const t=r.ptr().first,s=r.ptr().second;this._stringBuffer+=e+" "+t+" : "+s.getString(e+"   ")+" \n",r.preIncrement()}return this._stringBuffer+=e+"}\n",this._stringBuffer}getMap(t){return this._map}put(t,e){this._map.setValue(t,e)}getKeys(){if(!this._keys){this._keys=new o;const t=this._map.begin();for(;t.notEqual(this._map.end());){const e=t.ptr().first;this._keys.pushBack(e),t.preIncrement()}}return this._keys}getSize(){return this._keys.getSize()}}var J;function j(t,e){let r=0;for(let e=1;;e++){const s=t.slice(e-1,e);if("e"==s||"-"==s||"E"==s)continue;const i=t.substring(0,e),n=Number(i);if(isNaN(n))break;r=e}let s=parseFloat(t);return isNaN(s)&&(s=NaN),e[0]=t.slice(r),s}!function(t){t.CubismJson=M,t.JsonArray=N,t.JsonBoolean=A,t.JsonError=F,t.JsonFloat=E,t.JsonMap=q,t.JsonNullvalue=O,t.JsonString=I,t.Value=B}(J||(J={}));let D=!1,P=!1,R=null,T=null;const K=Object.freeze({vertexOffset:0,vertexStep:2});function U(t){t&&(t=void 0)}class X{static startUp(t=null){if(D)return m("CubismFramework.startUp() is already done."),D;if(R=t,null!=R&&Live2DCubismCore.Logging.csmSetLogFunction(R.logFunction),D=!0,D){const t=Live2DCubismCore.Version.csmGetVersion(),e=(16711680&t)>>16,r=65535&t,s=t;m("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+((4278190080&t)>>24)).slice(-2),("00"+e).slice(-2),("0000"+r).slice(-4),s)}return m("CubismFramework.startUp() is complete."),D}static cleanUp(){D=!1,P=!1,R=null,T=null}static initialize(t=0){g(D),D?P?b("CubismFramework.initialize() skipped, already initialized."):(B.staticInitializeNotForClientCall(),T=new _,Live2DCubismCore.Memory.initializeAmountOfMemory(t),P=!0,m("CubismFramework.initialize() is complete.")):b("CubismFramework is not started.")}static dispose(){g(D),D?P?(B.staticReleaseNotForClientCall(),T.release(),T=null,p.CubismRenderer.staticRelease(),P=!1,m("CubismFramework.dispose() is complete.")):b("CubismFramework.dispose() skipped, not initialized."):b("CubismFramework is not started.")}static isStarted(){return D}static isInitialized(){return P}static coreLogFunction(t){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(t)}static getLoggingLevel(){return null!=R?R.loggingLevel:H.LogLevel_Off}static getIdManager(){return T}constructor(){}}class Y{}var H,W;return function(t){t[t.LogLevel_Verbose=0]="LogLevel_Verbose",t[t.LogLevel_Debug=1]="LogLevel_Debug",t[t.LogLevel_Info=2]="LogLevel_Info",t[t.LogLevel_Warning=3]="LogLevel_Warning",t[t.LogLevel_Error=4]="LogLevel_Error",t[t.LogLevel_Off=5]="LogLevel_Off"}(H||(H={})),function(t){t.Constant=K,t.csmDelete=U,t.CubismFramework=X}(W||(W={})),a})());